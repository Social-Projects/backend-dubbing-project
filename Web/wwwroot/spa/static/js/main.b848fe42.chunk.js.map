{"version":3,"sources":["components/Toolbar/Sidebar/ActionSection/ActionSection.module.css","assets/images/perfomance-logo.png","assets/images/stream-logo.png","components/Performances/AudioUpload/AudioUpload.tsx","components/Login/Form/Form.tsx","components/Login/Login.tsx","util/apiManager.ts","util/history.ts","hoc/Auxiliary.tsx","components/UI/Spinner/Spinner.tsx","store/actions/stream.ts","store/actions/actionTypes.ts","store/actions/sidebar.ts","util/api.tsx","components/Performances/AudioItem/AudioItem.tsx","util/keyChars.ts","store/actions/audioUpload.ts","components/Performances/EditPerformance/EditPerformance.tsx","components/PopupConfirmationDialog/PopupConfirmationDialog.tsx","components/LanguageSelectionPopup/apiManagerLanguage.ts","components/LanguageSelectionPopup/DropdownLanguage.tsx","components/LanguageSelectionPopup/LanguageSelectionPopup.tsx","components/Performances/Performance/Performance.tsx","components/Performances/PerformanceList/PerformanceList.tsx","components/Performances/PerformancesPage.tsx","hoc/WithClass.tsx","components/Stream/StreamAudios/StreamAudio/StreamAudio.tsx","components/Stream/StreamAudios/StreamAudios.tsx","components/UI/Button/Button.tsx","components/Stream/StreamHead/StreamHead.tsx","util/playbackManager.ts","components/Stream/Stream.tsx","components/Toolbar/Header/Logo/Logo.tsx","components/Toolbar/Header/Logout/Logout.tsx","components/Toolbar/Header/Header.tsx","components/Toolbar/Sidebar/ActionSection/ButtonSection/ButtonSection.tsx","components/Toolbar/Sidebar/ActionSection/PlaySection/PlaySection.tsx","components/Toolbar/Sidebar/ActionSection/ActionSection.tsx","components/Toolbar/Sidebar/SidebarItem/SidebarItem.tsx","components/Toolbar/Sidebar/Sidebar.tsx","App.tsx","serviceWorker.tsx","store/reducers/audioUploadReducer.ts","store/reducers/sidebarReducer.ts","store/reducers/streamReducer.ts","config.ts","util/signalrManager.ts","index.tsx","components/Toolbar/Sidebar/ActionSection/ButtonSection/ButtonSection.module.css","components/Stream/StreamAudios/StreamAudio/StreamAudio.module.css","components/Toolbar/Sidebar/ActionSection/PlaySection/PlaySection.module.css","components/Stream/StreamHead/StreamHead.module.css","components/UI/Spinner/Spinner.module.css","components/Toolbar/Sidebar/SidebarItem/SidebarItem.module.css","assets/images/theater-logo.png","components/Stream/StreamAudios/StreamAudios.module.css","components/Stream/Stream.module.css"],"names":["module","exports","actionSection","HttpMethods","Login","react_default","a","createElement","className","id","type","placeholder","name","href","React","Component","MainLogin","width","src","Logo","alt","Form_Form","ApiManager","Object","classCallCheck","this","backendUrl","config","get","json","fetch","concat","body","headers","Accept","Access-Control-Allow-Origin","Content-Type","method","catch","error","then","data","index","indexPerfomance","createBrowserHistory","aux","props","children","spinner","isShow","Auxiliary","classes","Backdrop","Spinner","saveCurrentSpeechId","payload","currentSpeechId","changeStreamingStatus","status","isPlaying","changeCurrentPlaybackTime","currentPlaybackTime","changeCurrentTabId","nextId","axios","create","baseURL","AudioItem","_this","possibleConstructorReturn","getPrototypeOf","call","onChangeOrderState","event","setState","order","parseInt","target","value","onChange","_ref","asyncToGenerator","regenerator_default","mark","_callee","audio","languageId","speechIndex","result","newName","copyAudio","formData","wrap","_context","prev","next","files","undefined","parentNode","checkIsOriginalTextEqual","isEqual","File","FormData","append","API","post","response","onFileChange","alert","errorMessage","stop","_x","apply","arguments","handleChange","onTextChange","deleteHandler","deleteItemId","onDelete","bind","assertThisInitialized","tooltipRemoveToggle","state","tooltipRemoveOpen","parentElement","getElementsByClassName","namedItem","toString","click","_this2","languages","toConsumableArray","filesToUpload","fileToBeUploadData","langList","map","item","react","key","accept","onClick","e","handleUploadClick","file","fileName","reactstrap_es","placement","isOpen","autohide","toggle","text","length","style","color","outline","size","handleChangeOrder","pattern","onInput","KeyChars","AudioUpload","child","usedLanguages","isFirstLanguage","originalText","filesToBeUploadData","i","isNew","onAddNewFilesName","isNewFilesLoaded","onChangeIsNewFilesLoaded","push","isSpeechesCorrect","reqCount","speeches","filter","isChoosed","langs","find","errorCode","isSomeSpeechNullOrEmpty","s","uploadHandler","_callee4","performanceId","update","isError","_loop","_ret","_loop2","_ret2","_context6","onChangeAudioUploadToInitialState","speech","_context3","put","_ref2","uploadAndSaveAudioAsync","PUT","console","log","_x3","_ref3","_callee2","_context2","POST","_x4","abrupt","v","message","delegateYield","t0","_context5","_ref4","_callee3","_context4","_x5","t1","_x2","toggleDropdown","dropdownOpen","toggleSelectedLanguage","selectedLanguage","language","l","tooltipUploadBatchOpen","tooltipUploadBatch","onBatchUpload","preventDefault","input","document","querySelector","batchUpload","_ref5","_callee5","_context7","isLoading","onBatchAddItem","onBatchUpdateItems","_x6","newOrder","oldOrder","speechesCount","oldSpeech","requiredSpeeches","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","requiredSpeech","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","removeNewLoadedFiles","_callee6","filesNeededToBeDeleted","_context8","f","unloadFilesAsync","handleLangCheckboxChange","langState","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","lang","checkIfNewAudiosAreLoaded","_ref7","_callee7","speechIdentifier","unloadFiles","j","_item","audiosToSpeech","noChoosedLangId","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_loop3","_iterator4","_step4","_context10","speechId","audioId","sent","x","_context9","delete","finish","_x7","_x8","_x9","_ref8","_callee8","speechItem","_context11","addItemHandler","changeAndAssignTextToSpeech","_x10","subStringIndex","search","substring","neededSpeechIndex","findIndex","sp","neededSpeech","objectSpread","_ref9","_callee9","neededFiles","neededSpeeches","_loop4","_i","_context13","includes","sort","s1","s2","checkIsOriginalTextInFileEqual","_context12","content-type","_x11","relatedAudioFiles","Math","max","obj","deleteItemHandler","textChangeHandler","_ref10","_callee10","removeResponse","localNewFiles","_speeches2","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","audios","_context14","removeLocalSpeechesAsync","onDeleteNewFilesName","_x12","_ref11","_callee11","mustToBeDeletedAudios","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","_context15","_x13","_ref12","_callee12","query","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","_context16","slice","_x14","str","tooltipAddOpen","tooltipAddToggle","performanceSpeechesResponse","languagesResponse","_iterator9","_iteratorNormalCompletion9","_step9","b","items","compare","langItems","checked","itemsList","AudioItem_AudioItem_AudioItem","ref","marginTop","isDisabledBatchUpload","batchUploading","caret","multiple","connect","store","audioUpload","dispatch","nextValue","actionCreators","filename","filenames","forwardRef","EditPerformance","createRef","apimanager","apiManager","isSaved","onCancelHandler","current","confirm","handleErrors","title","description","handleSave","val","updatePerformance","JSON","stringify","history","loadData","performance","createPerformance","JSONObj","match","params","number","getPerformanceById","resp","audioComponentDidMount","Link","to","readOnly","Performances_AudioUpload_AudioUpload","PopupConfirmationDialog","tooltipOpen","modal","tooltipToggle","removeMethod","labelDangerButton","labelPrimaryButton","ApiManagerLanguage","DropdownLanguage","changeCurrentLanguageHandler","curLang","updateCurrentLang","currentLanguage","prevState","sortable","LanguageSelectionPopup","getLang","onAddLang","createLang","onDelLang","removeLang","onUpdateLang","updateLang","radioHandler","radioState","currentLang","nameUpdateHandler","nameChangedHandler","languageDeleteHandler","languageAddHandler","newLanguage","toggleChildComponent","inputs","DropdownLanguage_DropdownLanguage","PopupConfirmationDialog_PopupConfirmationDialog_PopupConfirmationDialog","buttonLabel","tag","check","Performance","tooltipEditToggle","tooltipEditOpen","deleteMethod","remove","PerformanceList","getPerformances","performances","removePerformance","arr","getElementById","LanguageSelectionPopup_LanguageSelectionPopup_LanguageSelectionPopup","Performance_Performance_Performance","onChangeCurrentTabId","PerformancesPage","Switch","Route","exact","path","render","Redirect","component","withClass","WrappedComponent","_Component","_class","inherits","createClass","WithClass","getViewNumber","num","iconActionsClasses","icon","pop","connectingStatus","disable","join","playByIdHandler","currentAudioId","time","second","minutes","floor","seconds","convSecondsToMinutes","duration","StreamAudio","Button",":hover","hover","backgroundColor","borderRadius","fontSize","height","transition","transitionDuration","clicked","Radium","btnStyles","btn","cursor","UI_Button_Button","assign","streamHead","playbackManager","PlaybackManager","currentTime","maxDuration","isPause","timerId","play","pause","totalDuration","setInterval","continue","reset","onChangeCurrentPlaybackTime","clearInterval","Stream","defineProperty","Space","repeat","changeConnectingStatus","signalRManager","connectToHub","sendCommand","onChangeConnectingStatus","disconnectFromHub","onSaveCurrentSpeechId","isFirst","onChangeStreamingStatus","playPauseHandler","_ref6","checkKeys","_len","keys","Array","_key","onKeyDownUpHandler","handleError","isWarning","perfomanceId","performanceName","StreamHead","StreamAudios","keybinding_default","onKey","onSavePerformanceId","getSpeechInfo","speechesResponse","onSaveSpeeches","window","onbeforeunload","_this3","onChangeStreamStateToInitial","stream","PureComponent","Logout","Header","isAuthorized","segments","location","pathname","split","newState","logout","Header_Logout_Logout","Header_Logo_Logo","mainBtnClasses","act","mainBtnIconClasses","prevNextDisable","prevSpeechHandler","nextSpeechHandler","btnSection","numAudio","playbackTime","totalTime","playbackScale","playSection","ActionSection","_this$map","Ctrl","ArrowRight","ArrowLeft","nextSpeechId","currentSpeechIndex","onChangeCurrentSpeechId","prevSpeechId","ButtonSection","PlaySection","actions","SidebarItem","NavLink","NavItem","activeClassName","NavItemActive","imgSrc","CountBlock","Sidebar","OnPerformanceClickHandler","targetTabId","isStreamConnectedToServer","newFilesName","onChangeAudioUploadToInitial","onStreamClickHandler","isVisible","updatedState","counter","Sidebar_ActionSection_ActionSection","Sidebar_SidebarItem_SidebarItem","perfomanceLogo","currentTabId","streamLogo","withRouter","sidebar","App","Toolbar_Header_Header","Toolbar_Sidebar_Sidebar","Boolean","hostname","initialState","audioUploadReducer","action","updatedNewFiles","reducer","currentSpeech","urlApi","SignalrManager","connection","backendURL","signalR","withUrl","build","on","innerHTML","start","command","send","__webpack_require__","d","__webpack_exports__","combineReducers","streamReducer","sidebarReducer","createStore","composeWithDevTools","applyMiddleware","thunk","set","configuration","app","es","Router","src_App","ReactDOM","navigator","serviceWorker","ready","registration","unregister","load6","round","nav-item","p"],"mappings":"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","file":"static/js/main.b848fe42.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionSection\":\"ActionSection_actionSection__NMcEX\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAABHklEQVQ4jY2TYXHDMAyFP/VGwBRCwRQ2CBuEDEIGIYPQQWghNBAaCA2EFsLbj0it57rbdOfzWfZ9fnqWjUZI6oAYAAswm9mldb4JkDRKOuk+zpIOfzHMQQMwFvkLMLuiCUiuMlVKp1pRKhRsJeVqf9dQWireui0/YY2y0wNIC5o3burigOyenYHM7QHK8luRgH7ji9nnDngDPsxs78CIT+ClAH6FiPAxYJHMZjYDe0l9BRuAo6sI4FzsL08NZQAHoFZ2V1aVWxludkSW9Oz56LnTg/67PgDABsDMFvckVGVJqSi/Y/Xr3RVPxfnSplto/QHlc78W60P0k1dS9t/QNMPLjIOjfm/auCQ1YRU4+fwIuPsXqAHuJR193H07gG81FKubwLOaxAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAA1UlEQVQokZWSYRHCMAyF3zgMYGEWZqFIGBaQABJmYRaGhFrAwiahSPj4sVeux4CN3PWSe817TdJIfxgw+BzWEmug+4BfmC2ukZMT6wIb7Fvf9WvkUqAxnpzTv+7fCO+WXwyFeHQM0OkHOQtExwHoHB+AOxB3G4Z/sm8lTY4bSQ9J9RaBYD8V2KMc3JYWosuOQDIvAcNe0llSXozGpb6sqqqjCb2ruQKtObdFvcWg5m+asZCn7kpGYPzatBMTxcoy70JuAyB8FTBhse/+OtzC/+ZWmhJ7Akb3fLfVZgKKAAAAAElFTkSuQmCC\"","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from \"reactstrap\";\nimport { Tooltip } from \"reactstrap\";\nimport { Dispatch } from \"redux\";\n\nimport * as actionCreators from \"../../../store/actions/index\";\nimport IGlobalStoreType from \"../../../store/state/state\";\nimport API from \"../../../util/api\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport AudioItem from \"../AudioItem/AudioItem\";\nimport \"./AudioUpload.css\";\n\nenum HttpMethods {\n  GET = \"GET\",\n  POST = \"POST\",\n  PUT = \"PUT\",\n  DELETE = \"DELETE\",\n}\n\nexport interface IAudioUploadProps {\n  onChangeIsNewFilesLoaded: Function;\n  onAddNewFilesName: Function;\n  onDeleteNewFilesName: Function;\n  onChangeAudioUploadToInitialState: Function;\n  isNewFilesLoaded: boolean;\n}\n\nexport interface IAudioUploadState {\n  performanceId: number;\n  languages: Array<{\n    id: number,\n    name: string,\n    isChoosed: boolean,\n  }>;\n  speeches: Array<{\n    id: number,\n    order: number,\n    text?: string,\n    isNew?: boolean,\n    onDelete: (index: number) => void,\n    onTextChange: (str: string, index: number) => void\n    onFileChange: (str: string, originalText: string, index: number, speechIndex: number) => void,\n  }>;\n  fileToBeUploadData: Array<{\n    audioId?: number,\n    fileName: any,\n    originalText: string,\n    languageId: number,\n    speechIndex: number,\n    isNew: boolean,\n  }>;\n  tooltipAddOpen: boolean;\n  dropdownOpen: boolean;\n  selectedLanguage?: {\n    id: number,\n    name: string,\n  };\n  tooltipUploadBatch: boolean;\n  isLoading: boolean;\n}\n\nclass AudioUpload extends React.Component<IAudioUploadProps, IAudioUploadState> {\n  public child = React.createRef<AudioItem>();\n  private usedLanguages: Array<{ id: number, name: string }> = [];\n  private isFirstLanguage: boolean = true;\n\n  constructor(props: IAudioUploadProps) {\n    super(props);\n\n    this.state = {\n      performanceId: -1,\n      languages: [],\n      speeches: [],\n      fileToBeUploadData: [],\n      tooltipAddOpen: false,\n      dropdownOpen: false,\n      selectedLanguage: undefined,\n      tooltipUploadBatch: false,\n      isLoading: true,\n    };\n\n    this.addItemHandler = this.addItemHandler.bind(this);\n    this.deleteItemHandler = this.deleteItemHandler.bind(this);\n    this.uploadHandler = this.uploadHandler.bind(this);\n    this.textChangeHandler = this.textChangeHandler.bind(this);\n    this.tooltipAddToggle = this.tooltipAddToggle.bind(this);\n    // this.handleLangCheckboxChange = this.handleLangCheckboxChange.bind(this);\n  }\n\n  public onFileChange = (fileName: string, originalText: string, languageId: number, speechIndex: number) => {\n    const filesToBeUploadData = [...this.state.fileToBeUploadData];\n\n    if (this.state.fileToBeUploadData.length > 0) {\n      for (let i = 0; i < filesToBeUploadData.length; i++) {\n        if (filesToBeUploadData[i].speechIndex === speechIndex && filesToBeUploadData[i].languageId === languageId) {\n          filesToBeUploadData[i].fileName = fileName;\n          filesToBeUploadData[i].isNew = true;\n\n          this.props.onAddNewFilesName(fileName);\n          if (!this.props.isNewFilesLoaded) {\n            this.props.onChangeIsNewFilesLoaded(true);\n          }\n\n          this.setState({\n            fileToBeUploadData: filesToBeUploadData,\n          });\n\n          return;\n        }\n      }\n    }\n    const item = {\n      fileName,\n      originalText,\n      languageId,\n      speechIndex,\n      isNew: true,\n    };\n\n    filesToBeUploadData.push(item);\n\n    this.setState({\n      fileToBeUploadData: filesToBeUploadData,\n    });\n\n    this.props.onAddNewFilesName(item.fileName);\n    if (!this.props.isNewFilesLoaded) {\n      this.props.onChangeIsNewFilesLoaded(true);\n    }\n  }\n\n  // checking if text any speech is empty\n  public isSpeechesCorrect = () => {\n    // checking if number of real loaded audios equals expected loaded audios\n    const reqCount = this.state.speeches.length * this.state.languages.filter((item) => item.isChoosed).length;\n    const langs = [...this.state.languages.filter((i) => i.isChoosed === true).map((item) => item.id)];\n    const actualCount = this.state.fileToBeUploadData.filter((item) => langs.find((i) => i === item.languageId)).length;\n    if (reqCount !== actualCount) {\n      return {\n        errorCode: -1,\n        errorMessage: \"Завантажте аудіо до всіх мов!\",\n      };\n    }\n\n    let isSomeSpeechNullOrEmpty = false;\n    this.state.speeches.filter((s) => {\n      if (s.text === undefined || s.text === null || s.text === \"\") {\n        isSomeSpeechNullOrEmpty = true;\n      }\n    });\n\n    if (isSomeSpeechNullOrEmpty) {\n      return {\n        errorCode: -2,\n        errorMessage: \"Введіть текст до всіх фраз!\",\n      };\n    }\n  }\n\n  // Uploading speeches and file data. Very massive and probably needs\n  public uploadHandler = async (performanceId: number, update: boolean) => {\n    // @ts-ignore\n    let isError: Error = null;\n    // if evertything is OK then upload\n    this.props.onChangeAudioUploadToInitialState();\n    if (update) {\n      for (let i = 0; i < this.state.speeches.length; i++) {\n        const speech = {\n          id: this.state.speeches[i].id,\n          text: this.state.speeches[i].text,\n          order: this.state.speeches[i].order,\n          isNew: this.state.speeches[i].isNew,\n          performanceId,\n        };\n\n        // Cheking for new speeches\n        if (!speech.isNew) {\n          await API.put(`speech/${speech.id}`, speech, {\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n          }).then(async (response) => {\n            await this.uploadAndSaveAudioAsync(speech.id, i, HttpMethods.PUT)\n              .catch((error) => {\n                console.log(`[uploadAndSaveAudioAsync]: ${error}`);\n                isError = error;\n              });\n          }).catch((error) => {\n            console.log(`[uploadHandler] ${error}`);\n            isError = error;\n          });\n\n        } else { // if speeches is new just uploading them\n          // creating speech and relative to him audios\n\n          await API.post(\"speech\", speech, {\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n          }).then(async (response) => {\n            await this.uploadAndSaveAudioAsync(response.data.id, i, HttpMethods.POST)\n              .catch((error) => {\n                console.log(`[uploadAndSaveAudioAsync]: ${error}`);\n                isError = error;\n              });\n          }).catch((error) => {\n            console.log(`[uploadHandler] ${error}`);\n            isError = error;\n          });\n\n        }\n\n        if (isError !== null) {\n          return {\n            errorCode: -3,\n            errorMessage: isError.message,\n          };\n        }\n      }\n\n    } else { // if it's not an update just uploading the speeches\n      for (let i = 0; i < this.state.speeches.length; i++) {\n        const speech = {\n          id: 0,\n          text: this.state.speeches[i].text,\n          performanceId,\n          order: this.state.speeches[i].order,\n        };\n\n        // creating speech and relative to him audios\n        await API.post(\"speech\", speech, {\n          headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n          },\n        }).then(async (response) => {\n          await this.uploadAndSaveAudioAsync(response.data.id, i, HttpMethods.POST)\n            .catch((error) => {\n              console.log(`[uploadAndSaveAudioAsync]: ${error}`);\n              isError = error;\n            });\n        }).catch((error) => {\n          console.log(`[uploadHandler] ${error}`);\n          isError = error;\n        });\n\n        if (isError !== null) {\n          return {\n            errorCode: -3,\n            errorMessage: isError.message,\n          };\n        }\n      }\n    }\n  }\n\n  // Getting all data. (languages, speeches to performance and audios to speeches)\n  public async audioComponentDidMount(performanceId: number) {\n\n    if (performanceId !== -1) {\n      const performanceSpeechesResponse = await API.get(\"performance/\" + performanceId + \"/speeches\");\n      if (performanceSpeechesResponse.status === 200) {\n        const speeches = [];\n        for (let i = 0; i < performanceSpeechesResponse.data.length; i++) {\n          const speechItem = {\n            id: performanceSpeechesResponse.data[i].id,\n            text: performanceSpeechesResponse.data[i].text,\n            order: performanceSpeechesResponse.data[i].order,\n            languages: this.state.languages,\n            onDelete: this.deleteItemHandler,\n            onTextChange: this.textChangeHandler,\n            onFileChange: this.onFileChange,\n          };\n\n          speeches.push(speechItem);\n        }\n\n        this.setState({\n          performanceId: performanceSpeechesResponse.data.performanceId,\n          speeches,\n        });\n      }\n\n      const files = [];\n      for (let i = 0; i < performanceSpeechesResponse.data.length; i++) {\n        const audiosToSpeech = await API.get(\"speech/\" + performanceSpeechesResponse.data[i].id + \"/audios\");\n\n        for (let j = 0; j < audiosToSpeech.data.length; j++) {\n          const item = {\n            audioId: audiosToSpeech.data[j].id,\n            fileName: audiosToSpeech.data[j].fileName,\n            originalText: audiosToSpeech.data[j].originalText,\n            languageId: audiosToSpeech.data[j].languageId,\n            speechIndex: audiosToSpeech.data[j].speechId,\n            isNew: false,\n          };\n\n          files.push(item);\n        }\n      }\n      const languagesResponse = await API.get(\"language\");\n\n      for (const lang of languagesResponse.data) {\n        for (const file of files) {\n          if (file.languageId === lang.id) {\n            lang.isChoosed = true;\n            break;\n          }\n          else {\n            lang.isChoosed = false;\n          }\n        }\n      }\n      if (languagesResponse.status === 200) {\n        this.setState({\n          languages: languagesResponse.data,\n        });\n      }\n\n      this.setState({\n        fileToBeUploadData: files,\n      });\n\n    } else {\n      const languagesResponse = await API.get(\"language\");\n      for (const lang of languagesResponse.data) {\n        lang.isChoosed = true;\n      }\n      if (languagesResponse.status === 200) {\n        this.setState({\n          languages: languagesResponse.data,\n        });\n      }\n    }\n\n    this.setState({\n      isLoading: false,\n    });\n  }\n\n  public tooltipAddToggle() {\n    this.setState({\n      tooltipAddOpen: !this.state.tooltipAddOpen,\n    });\n  }\n\n  // For batch uploading\n  public toggleDropdown = () => {\n    this.setState({\n      dropdownOpen: !this.state.dropdownOpen,\n    });\n  }\n\n  public toggleSelectedLanguage = (id: number) => {\n    if (this.state.selectedLanguage === undefined || this.state.selectedLanguage.id !== id) {\n      const language = this.state.languages.find((l) => l.id === id);\n\n      this.setState({\n        selectedLanguage: language,\n      });\n    }\n  }\n\n  public tooltipUploadBatchOpen = () => {\n    this.setState({\n      tooltipUploadBatch: !this.state.tooltipUploadBatch,\n    });\n  }\n\n  // triggered when click on fake batch files upload button\n  public onBatchUpload = (event: any) => {\n    event.preventDefault();\n    if (this.state.selectedLanguage !== undefined) {\n      const input = document.querySelector(\"#batchUpload\") as HTMLInputElement;\n      if (input !== null) {\n        input.click();\n      }\n    } else {\n      alert(\"Будь ласка виберіть мову, а тоді вже завантажте файли!\");\n    }\n  }\n\n  // handling batch uploading\n  public batchUpload = async (event: any) => {\n    this.setState({\n      isLoading: true,\n    });\n\n    const files = event.target.files as FileList;\n    // @ts-ignore\n    if (this.isFirstLanguage || this.state.selectedLanguage.id === this.usedLanguages[0].id) {\n      for (let i = 0; i < files.length; i++) {\n        await this.onBatchAddItem(files[i]);\n      }\n\n      this.isFirstLanguage = false;\n      this.usedLanguages.push(this.state.selectedLanguage as { id: number, name: string });\n    } else {\n      this.onBatchUpdateItems(files);\n    }\n\n    this.setState({\n      isLoading: false,\n    });\n  }\n\n  public handleChangeOrder = (newOrder: number, oldOrder: number) => {\n    const speechesCount = this.state.speeches.length;\n    if (newOrder <= speechesCount && newOrder > 0) {\n      const speeches = this.state.speeches;\n      const oldSpeech = speeches.filter((s) => s.order === oldOrder)[0];\n      if (newOrder < oldOrder) {\n        const requiredSpeeches = speeches.filter((s) => s.order >= newOrder && s.order < oldOrder);\n        for (const requiredSpeech of requiredSpeeches) {\n          requiredSpeech.order = requiredSpeech.order + 1;\n        }\n        oldSpeech.order = newOrder;\n        requiredSpeeches.push(oldSpeech);\n      } else if (newOrder > oldOrder) {\n        const requiredSpeeches = speeches.filter((s) => s.order > oldOrder && s.order <= newOrder);\n        for (const requiredSpeech of requiredSpeeches) {\n          requiredSpeech.order = requiredSpeech.order - 1;\n        }\n        oldSpeech.order = newOrder;\n        requiredSpeeches.push(oldSpeech);\n      }\n      this.setState(\n        {\n          speeches,\n        },\n      );\n    } else {\n      alert(\"Неіснуючий номер фрази!\");\n    }\n  }\n\n  public compare(a: any, b: any) {\n    if (a.order < b.order) {\n      return -1;\n    }\n    if (a.order > b.order) {\n      return 1;\n    }\n    return 0;\n  }\n\n  public removeNewLoadedFiles = async () => {\n    const filesNeededToBeDeleted = this.state.fileToBeUploadData\n      .filter((s) => s.isNew)\n      .map((f) => f.fileName);\n\n    await this.unloadFilesAsync(filesNeededToBeDeleted);\n  }\n\n  public render() {\n    const items = [...this.state.speeches].sort(this.compare);\n    const langItems = [...this.state.languages].sort((a: any, b: any) => a.name < b.name ? -1 : (a.name > b.name ? 1 : 0));\n\n    const langList = langItems.length !== 0 ?\n      langItems.map((item, index) => (\n        <label key={item.id}>\n          <a>{item.name}: </a>\n          <input\n            className=\"langCheckbox\"\n            name=\"isGoi\"\n            type=\"checkbox\"\n            checked={item.isChoosed}\n            onChange={this.handleLangCheckboxChange(item.id)}\n          />\n        </label>\n      )) :\n      <p style={{ color: \"grey\"}}> Мови відсутні. Добавте мову на початковій сторінці в менеджері мов. </p>;\n\n    const itemsList = items.length !== 0 ?\n      items.map((item, index) => (\n        <AudioItem\n          key={index}\n          id={item.id}\n          order={item.order}\n          text={item.text}\n          languages={this.state.languages.filter((item) => item.isChoosed)}\n          onDelete={item.onDelete}\n          fileToBeUploadData={this.state.fileToBeUploadData}\n          onTextChange={item.onTextChange}\n          onFileChange={item.onFileChange}\n          handleChangeOrder={this.handleChangeOrder}\n          checkIsOriginalTextEqual={this.checkIsOriginalTextInFileEqual}\n          ref={this.child}\n        />\n      )) :\n      <p style={{ color: \"grey\", marginTop: 10 }}> Добавте фразу або завантажте пакетом. </p>;\n\n    const languages = this.state.languages.filter((item) => item.isChoosed === true).map((lang) => {\n      return (\n        <DropdownItem\n          key={lang.id}\n          onClick={() => this.toggleSelectedLanguage(lang.id)}>{lang.name}</DropdownItem>\n      );\n    });\n    const selectedLanguage = this.state.selectedLanguage === undefined\n      ? \"Виберіть мову...\" : this.state.selectedLanguage.name;\n    const isDisabledBatchUpload = this.state.selectedLanguage === undefined ? true : false;\n\n    const batchUploading = (\n      <div>\n        <label>Пакетом: </label>\n        <Dropdown\n          className=\"dropdown-toggle-language\"\n          isOpen={this.state.dropdownOpen}\n          toggle={() => this.toggleDropdown()}\n          size=\"sm\">\n          <DropdownToggle caret>\n            {selectedLanguage}\n          </DropdownToggle>\n          <DropdownMenu>\n            {languages}\n          </DropdownMenu>\n        </Dropdown>\n        <input\n          type=\"file\"\n          id=\"batchUpload\"\n          className=\"inputFile\"\n          onChange={this.batchUpload}\n          // @ts-ignore\n          onClick={(event) => event.target.value = null}\n          multiple />\n        <button\n          id={\"batchUploadBtn\"}\n          className={\"fas fa-plus-circle btn-audio-add \" + (isDisabledBatchUpload ? \"disabled-btn-audio-add\" : \"\")}\n          onClick={this.onBatchUpload} />\n        <Tooltip placement=\"top\" isOpen={this.state.tooltipUploadBatch} autohide={false} target={\"batchUploadBtn\"} toggle={this.tooltipUploadBatchOpen}>\n          Завантажити аудіо</Tooltip>\n      </div>\n    );\n\n    return (\n      <div className=\"audio-upload-section\">\n        <Spinner isShow={this.state.isLoading} />\n        <div className=\"langCheckboxList\">\n          {langList}\n        </div>\n        <div className=\"col-sm-12 audio-header\">\n          <div>\n            <label>Вручну: </label>\n\n            <button className=\"fas fa-plus-circle btn-audio-add\" onClick={this.addItemHandler} id={\"addBtn\"} />\n            <Tooltip placement=\"right\" isOpen={this.state.tooltipAddOpen} autohide={false} target={\"addBtn\"} toggle={this.tooltipAddToggle}>\n              Додати фразу </Tooltip>\n          </div>\n\n          {batchUploading}\n        </div>\n        <div id=\"audio-container\" className=\"row\">\n          {itemsList}\n        </div>\n      </div>\n    );\n  }\n\n  handleLangCheckboxChange = (id: number) => (e: any) => {\n    const langs: any[] = [];\n    const langState = [...this.state.languages];\n\n    for (const lang of langState) {\n      if (lang.id === id) {\n        lang.isChoosed = !lang.isChoosed;\n        // @ts-ignore\n        if (this.state.selectedLanguage !== undefined && lang.isChoosed == false && lang.id == this.state.selectedLanguage.id) {\n          this.setState({\n            selectedLanguage: undefined,\n          });\n        }\n\n        langs.push(lang);\n      } else {\n        langs.push(lang);\n      }\n    }\n\n    this.setState({\n      languages: langs,\n    });\n  }\n\n  private checkIfNewAudiosAreLoaded = (): boolean => {\n    if (this.state.performanceId === -1) {\n      return this.state.fileToBeUploadData.length > 0 ? true : false;\n    } else {\n      const newFiles = this.state.fileToBeUploadData.filter((f) => f.isNew === true);\n      return newFiles.length > 0 ? true : false;\n    }\n  }\n\n  // Uploading audio files and creating records in database which contain data about them\n  private uploadAndSaveAudioAsync = async (speechIdentifier: number, speechIndex: number, method: HttpMethods) => {\n    const langs = [...this.state.languages.filter((i) => i.isChoosed === true).map((item) => item.id)];\n    const files = [...this.state.fileToBeUploadData.filter((item) => langs.find((i) => i === item.languageId))];\n    const unloadFiles = [...this.state.fileToBeUploadData.filter((item) => !langs.find((i) => i === item.languageId))];\n\n    for (let j = 0; j < files.length; j++) {\n      if (files[j].speechIndex === this.state.speeches[speechIndex].id) {\n        if (method === HttpMethods.POST) {\n\n          const item = {\n            fileName: files[j].fileName,\n            originalText: files[j].originalText,\n            languageId: files[j].languageId,\n            speechId: speechIdentifier,\n          };\n\n          await API.post(\"audio\", item, {\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n          });\n        } else if (method === HttpMethods.PUT) {\n          const item = {\n            fileName: files[j].fileName,\n            originalText: files[j].originalText,\n            languageId: files[j].languageId,\n            speechId: speechIdentifier,\n            id: files[j].audioId,\n          };\n          if (item.id === undefined) {\n            await API.post(\"audio\", item, {\n              headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n              },\n            });\n          } else {\n            await API.put(\"audio/\" + item.id, item, {\n              headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n              },\n            });\n          }\n\n          const audiosToSpeech = await API.get(\"speech/\" + item.speechId + \"/audios\");\n\n          const noChoosedLangId = this.state.languages.filter((item) => item.isChoosed === false).map((x) => x.id);\n          for (const file of audiosToSpeech.data) {\n            if (noChoosedLangId.find((i) => i === file.languageId)) {\n              await API.delete(`audio/${file.id}`, {\n                headers: {\n                  \"Accept\": \"application/json\",\n                  \"Content-Type\": \"application/json\",\n                  \"Access-Control-Allow-Origin\": \"*\",\n                },\n              });\n            }\n          }\n        }\n      }\n    }\n\n    this.unloadFilesAsync(unloadFiles.map((item) => item.fileName));\n  }\n\n  private onBatchAddItem = async (file: File) => {\n    const speechItem = this.addItemHandler();\n\n    this.changeAndAssignTextToSpeech(speechItem, file);\n\n    // upload audio to file system of server\n\n    // @ts-ignore\n    const newName = `${speechItem.id}_${this.state.selectedLanguage.id}.mp3`;\n    const copyAudio = new File([file], newName, { type: file.type });\n\n    const formData = new FormData();\n    formData.append(\"File\", copyAudio);\n\n    await API.post(\"audio/upload\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    }).then(() => {\n      // @ts-ignore\n      this.onFileChange(copyAudio.name, file.name, this.state.selectedLanguage.id, speechItem.id);\n    }).catch(() => {\n      alert(\"Sorry! Some error was occured!\");\n      return;\n    });\n  }\n\n  private changeAndAssignTextToSpeech = (speechItem: any, file: File) => {\n    // remove suffix \".mp3\" from file name\n    const regex = /\\.mp3$/;\n    const subStringIndex = file.name.search(regex);\n    const originalText = file.name.substring(0, subStringIndex);\n\n    // create cope needed speech and assign the file name\n    const neededSpeechIndex = this.state.speeches.findIndex((sp) => sp.id === speechItem.id);\n    const neededSpeech = { ...this.state.speeches[neededSpeechIndex] };\n    neededSpeech.text = originalText;\n\n    // update the speech\n    const speeches = [...this.state.speeches];\n    speeches[neededSpeechIndex] = neededSpeech;\n    this.setState({\n      speeches,\n    });\n  }\n\n  private onBatchUpdateItems = async (files: FileList) => {\n    const neededFiles = this.state.fileToBeUploadData\n      // @ts-ignore\n      .filter((f) => f.languageId === this.state.selectedLanguage.id)\n      .map((f) => f.speechIndex);\n\n    const neededSpeeches = this.state.speeches.filter((s) => {\n      return !neededFiles.includes(s.id);\n    }).sort((s1, s2) => s1.order > s2.order ? 1 : -1);\n\n    if (files.length <= neededSpeeches.length) {\n      // checking if audio filename if one language is equal to audio filename another language (must be equal!)\n      let result: { isEqual: boolean, errorMessage: string } = { isEqual: true, errorMessage: \"\" };\n\n      for (let i = 0; i < files.length; i++) {\n        result = this.checkIsOriginalTextInFileEqual(files[i], neededSpeeches[i].id);\n        if (!result.isEqual) {\n          break;\n        }\n      }\n\n      if (result.isEqual) {\n        for (let i = 0; i < files.length; i++) {\n          const audio = files[i];\n\n          // @ts-ignore\n          const newName = `${neededSpeeches[i].id}_${this.state.selectedLanguage.id}.mp3`;\n          const copyAudio = new File([audio], newName, { type: audio.type });\n\n          const formData = new FormData();\n          formData.append(\"File\", copyAudio);\n\n          await API.post(\"audio/upload\", formData, {\n            headers: {\n              \"content-type\": \"multipart/form-data\",\n            },\n          })\n            // @ts-ignore\n            .then(() => this.onFileChange(copyAudio.name, audio.name, this.state.selectedLanguage.id, neededSpeeches[i].id))\n            .catch(() => alert(\"Sorry, some error occured...\"));\n        }\n      } else {\n        alert(result.errorMessage);\n      }\n    } else {\n      alert(\"Некоретна вибрана кількість файлів.\");\n    }\n  }\n\n  private checkIsOriginalTextInFileEqual = (file: File, speechId: number): { isEqual: boolean, errorMessage: string } => {\n    const relatedAudioFiles = [\n      ...this.state.fileToBeUploadData.filter((f) => f.speechIndex === speechId),\n    ];\n\n    if (relatedAudioFiles.length > 0) {\n      if (relatedAudioFiles[0].originalText !== file.name) {\n        const neededSpeech = this.state.speeches.find((s) => s.id === speechId);\n        if (neededSpeech !== undefined) {\n          return {\n            isEqual: false,\n            errorMessage: `Ім'я аудіо файлу не співпадає з іменем файлу, ` +\n              `що був вже завантажений до даної репліки під номером ${neededSpeech.order}.`,\n          };\n        } else {\n          return {\n            isEqual: true,\n            errorMessage: \"Error!\",\n          };\n        }\n      }\n    }\n\n    return {\n      isEqual: true,\n      errorMessage: \"\",\n    };\n  }\n\n  private addItemHandler = () => {\n    const speeches = this.state.speeches;\n    const maxSpeechId = this.state.speeches.length !== 0 ? Math.max.apply(null, this.state.speeches.map((obj) => obj.id)) + 1 : 0;\n\n    const speechItem = {\n      id: maxSpeechId,\n      text: \"\",\n      order: 1,\n      languages: this.state.languages,\n      isNew: true,\n      onDelete: this.deleteItemHandler,\n      onTextChange: this.textChangeHandler,\n      onFileChange: this.onFileChange,\n    };\n    if (speeches.length !== 0) {\n      speechItem.order = this.state.speeches.length !== 0 ? Math.max.apply(null, this.state.speeches.map((obj) => obj.order)) + 1 : 1;\n    }\n    speeches.push(speechItem);\n\n    this.setState({\n      speeches,\n    });\n\n    return {\n      ...speechItem,\n    };\n  }\n\n  private deleteItemHandler = async (index: number) => {\n    this.setState({\n      isLoading: true,\n    });\n    const neededSpeech = this.state.speeches.find((s) => s.id === index);\n    if (neededSpeech !== undefined) {\n      if (this.state.performanceId === -1) {\n        await this.removeLocalSpeechesAsync(index)\n          .catch((error) => alert(error));\n      } else {\n        if (!neededSpeech.isNew) {\n          const removeResponse = await API.delete(\"speech/\" + index);\n\n          if (removeResponse.status === 204) {\n            const localNewFiles = this.state.fileToBeUploadData.filter((f) => f.isNew && f.speechIndex === index);\n\n            if (localNewFiles.length > 0) {\n              this.props.onDeleteNewFilesName(localNewFiles);\n              await this.unloadFilesAsync(localNewFiles.map((f) => f.fileName));\n            }\n\n            const speeches = this.state.speeches.filter((obj) => {\n              return obj.id !== index;\n            });\n\n            const requiredSpeeches = speeches.filter((s) => s.order > neededSpeech.order);\n            for (const requiredSpeech of requiredSpeeches) {\n              requiredSpeech.order = requiredSpeech.order - 1;\n            }\n\n            const audios = this.state.fileToBeUploadData.filter((obj) => {\n              return obj.speechIndex !== index;\n            });\n\n            this.setState({\n              speeches,\n              fileToBeUploadData: audios,\n            });\n          } else {\n            alert(removeResponse.data);\n          }\n        } else {\n          await this.removeLocalSpeechesAsync(index)\n            .catch((error) => alert(error));\n        }\n      }\n    }\n\n    this.setState({\n      isLoading: false,\n    });\n  }\n\n  private removeLocalSpeechesAsync = async (index: number): Promise<void> => {\n    const speeches = this.state.speeches.filter((obj) => {\n      return obj.id !== index;\n    });\n\n    const mustToBeDeletedAudios: string[] = [];\n    const audios = this.state.fileToBeUploadData.filter((obj) => {\n      if (obj.speechIndex !== index) {\n        return obj;\n      } else {\n        mustToBeDeletedAudios.push(obj.fileName);\n      }\n    });\n\n    this.props.onDeleteNewFilesName(mustToBeDeletedAudios);\n    await this.unloadFilesAsync(mustToBeDeletedAudios);\n    const neededSpeech = this.state.speeches.find((s) => s.id === index);\n\n    // @ts-ignore\n    const requiredSpeeches = speeches.filter((s) => s.order > neededSpeech.order);\n    for (const requiredSpeech of requiredSpeeches) {\n      requiredSpeech.order = requiredSpeech.order - 1;\n    }\n    this.setState({\n      speeches,\n      fileToBeUploadData: audios,\n    });\n  }\n\n  private unloadFilesAsync = async (mustToBeDeletedAudios: string[]) => {\n    if (mustToBeDeletedAudios.length > 0) {\n      let query = \"?\";\n      for (const audio of mustToBeDeletedAudios) {\n        query += `files=${audio}&`;\n      }\n      query.slice(query.length - 1, 1);\n\n      await API.delete(\"/audio/unload/\" + query);\n    }\n  }\n\n  private textChangeHandler = (str: string, index: number) => {\n    const speeches = [...this.state.speeches];\n\n    for (let i = 0; i < speeches.length; i++) {\n      if (speeches[i].id === index) {\n        speeches[i].text = str;\n      }\n    }\n\n    this.setState({\n      speeches,\n    });\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    onChangeIsNewFilesLoaded: (nextValue: boolean) => dispatch(actionCreators.changeIsNewFilesLoaded(nextValue)),\n    onAddNewFilesName: (filename: string) => dispatch(actionCreators.addNewFilesName(filename)),\n    onDeleteNewFilesName: (filenames: string[]) => dispatch(actionCreators.deleteNewFilename(filenames)),\n    onChangeAudioUploadToInitialState: () => dispatch(actionCreators.changeAudioUploadToInitialState()),\n  };\n};\n\nconst mapStateToProps = (store: IGlobalStoreType) => {\n  return {\n    isNewFilesLoaded: store.audioUpload.isNewFilesLoaded,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(AudioUpload);\n","import React from 'react';\nimport './Form.css';\n\n\nclass Login extends React.Component {\n    render() {\n        return (\n\n            <div className=\"login-form\">\n\n                <div className=\"main-div\">\n                    <div >\n                        <h2>Вхід</h2>\n                    </div>\n\n                    <form id=\"Login\" >\n\n                        <div className=\"form-group\">\n                            <input type=\"email\" className=\"form-control\" id=\"inputEmail\" placeholder=\"Логін\" />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input type=\"password\" className=\"form-control\" id=\"inputPassword\" placeholder=\"Пароль\" />\n                        </div>\n\n                        <button type=\"submit\" className=\"btn btn-primary\">Вхід</button>\n\n                        <label className=\"remember\">\n                            <span>Запам'ятати</span> <span><input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" /></span>\n                        </label>\n\n                        <div id=\"register-link\" className=\"text-right\">\n                            <a href=\"#\" className=\"text-info\" >Забули пароль?</a>\n                        </div>\n\n                    </form>\n\n                </div>\n            </div>\n        )\n    }\n}\nexport default Login;","import React, { Component } from 'react';\nimport './Login.css';\nimport Logo from '../../assets/images/theater-logo.png';\nimport Form from './Form/Form';\n\nclass MainLogin extends React.Component {\n\n    render() {\n        return (\n\n            <div className=\"MainLogin\">\n                <img className=\"logoImg\" width=\"200px\" src={Logo} alt=\"\" />\n                <Form />\n            </div>\n        )\n    }\n}\n\nexport default MainLogin;","import config from \"react-global-configuration\";\n\nclass ApiManager {\n    public backendUrl = \"\";\n\n    constructor() {\n        this.backendUrl = config.get(\"urlApi\");\n    }\n\n    public async createPerformance(json: string): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance`, {\n            body: json,\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"POST\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    public async updatePerformance(json: string, id: number): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance/${id}`, {\n            body: json,\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"PUT\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    public async getPerformances(): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"GET\",\n        }).then((data) => {\n            return data;\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    public async getPerformanceById(index: number): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance/${index}`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"GET\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    public async removePerformance(index: number): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance/${index}`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"DELETE\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    // Using for display list of speeches on stream page\n    public async getSpeechInfo(indexPerfomance: number): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/performance/${indexPerfomance}/speeches`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"GET\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n}\n\nexport default ApiManager;\n","// history.js\nimport { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory({\n  /* pass a configuration object here if needed */\n});\n","const aux = (props: any) => props.children;\n\nexport default aux;\n","import React from \"react\";\n\nimport Aux from \"../../../hoc/Auxiliary\";\nimport classes from \"./Spinner.module.css\";\n\ninterface ISpinnerProps {\n    isShow: boolean;\n}\n\nconst spinner = (props: ISpinnerProps) => {\n    return (\n        props.isShow ? (\n            <Aux>\n                <div className={classes.Backdrop}></div>\n                <div className={classes.Spinner}>Loading...</div>\n            </Aux>\n        ) : null\n    );\n};\n\nexport default spinner;\n","import ApiManager from \"../../util/apiManager\";\nimport * as actionTypes from \"./actionTypes\";\n\n// Save performance Id in central Store\nexport const savePerformanceId = (id: number) => {\n    return {\n        payload: {\n            id,\n        },\n        type: actionTypes.SAVE_PERFORMANCE_ID,\n    };\n};\n\n// Load Speeches and store them in central store\nexport const saveSpeeches = (data: any) => {\n    return {\n        payload: {\n            speeches: data,\n        },\n        type: actionTypes.LOAD_SPEECHES,\n    };\n};\n\n// Save new current speech id in central store\nexport const saveCurrentSpeechId = (id: number) => {\n    return {\n        payload: {\n            currentSpeechId: id,\n        },\n        type: actionTypes.SAVE_CURRENT_SPEECH_ID,\n    };\n};\n\n// Change streaming status to the opposite previous\nexport const changeStreamingStatus = (status: boolean) => {\n    return {\n        payload: {\n            isPlaying: status,\n        },\n        type: actionTypes.CHANGE_STREAMING_STATUS,\n    };\n};\n\n// Change stream state to initial\nexport const changeStreamStateToInitial = () => {\n    return {\n        type: actionTypes.CHANGE_STREAM_STATE_TO_INITIAL,\n    };\n};\n\n// Change current playback time\nexport const changeCurrentPlaybackTime = (currentPlaybackTime: number) => {\n    return {\n        payload: {\n            currentPlaybackTime,\n        },\n        type: actionTypes.CHANGE_CURRENT_PLAYBACK_TIME,\n    };\n};\n\n// Change connecting status\nexport const changeConnectingStatus = (status: boolean) => {\n    return {\n        payload: {\n            status,\n        },\n        type: actionTypes.CHANGE_CONNECTING_STATUS,\n    };\n};\n","// For streaming\nexport const SAVE_PERFORMANCE_ID = \"SAVE_PERFORMANCE_ID\";\nexport const LOAD_SPEECHES = \"LOAD_SPEECHES\";\nexport const SAVE_CURRENT_SPEECH_ID = \"SAVE_CURRENT_SPEECH_ID\";\nexport const CHANGE_STREAMING_STATUS = \"CHANGE_ISPLAYING_STATUS\";\nexport const CHANGE_STREAM_STATE_TO_INITIAL = \"CHANGE_STREAM_STATE_TO_INITIAL\";\nexport const CHANGE_CURRENT_PLAYBACK_TIME = \"CHANGE_CURRENT_PLAYBACK_TIME\";\nexport const CHANGE_CONNECTING_STATUS = \"CHANGE_CONNECTING_STATUS\";\n\n// For Sidebar\nexport const CHANGE_CURRENT_TAB_ID = \"CHANGE_CURRENT_TAB_ID\";\n\n// For AudioUpload\nexport const CHANGE_IS_NEW_FILES_LOADED = \"CHANGE_IS_NEW_FILES_LOADED\";\nexport const ADD_NEW_FILES_NAME = \"ADD_NEW_FILES_NAME\";\nexport const DELETE_NEW_FILES_NAME = \"DELETE_NEW_FILES_NAME\";\nexport const CHANGE_AUDIO_UPLOAD_TO_INITIAL_STATE = \"CHANGE_TO_AUDIO_UPLOAD_INITIAL_STATE\";\n","import * as actionTypes from \"./actionTypes\";\n\n// Change id in central store\nexport const changeCurrentTabId = (nextId: number) => {\n    return {\n        type: actionTypes.CHANGE_CURRENT_TAB_ID,\n        payload: {\n            nextId,\n        },\n    };\n};\n","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"/api/\",\n});\n","import * as React from \"react\";\nimport { Button, Tooltip } from \"reactstrap\";\nimport API from \"../../../util/api\";\nimport \"./AudioItem.css\";\n\nexport interface IAudioItemProps {\n  id: number;\n  order: number;\n  text?: string;\n\n  languages: Array<{\n    id: number,\n    name: string,\n    isChoosed: boolean,\n  }>;\n\n  fileToBeUploadData: Array<{\n    audioId?: number,\n    fileName: any,\n    languageId: number,\n    speechIndex: number,\n  }>;\n\n  onDelete: (index: number) => void;\n  onTextChange: (str: string, index: number) => void;\n  onFileChange: (fileName: string, originalText: string, languageId: number, speechIndex: number) => void;\n  handleChangeOrder: (newOrder: number, oldOrder: number) => void;\n  checkIsOriginalTextEqual: (file: File, speechId: number) => { isEqual: boolean, errorMessage: string };\n}\n\ninterface IAudioItemState {\n  tooltipRemoveOpen: boolean;\n  order: number;\n}\n\nexport default class AudioItem extends React.Component<IAudioItemProps, IAudioItemState> {\n  constructor(props: IAudioItemProps) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n    this.deleteHandler = this.deleteHandler.bind(this);\n    this.tooltipRemoveToggle = this.tooltipRemoveToggle.bind(this);\n    this.state = {\n      tooltipRemoveOpen: false,\n      order: this.props.order,\n    };\n  }\n\n  public handleUploadClick(event: any) {\n    const parent = event.target.parentElement.parentElement as HTMLElement;\n    const ch = parent.getElementsByClassName(\"choose-audio-btn\").namedItem(event.target.id.toString()) as HTMLElement;\n    ch.click();\n  }\n\n  public tooltipRemoveToggle() {\n    this.setState({\n      tooltipRemoveOpen: !this.state.tooltipRemoveOpen,\n    });\n  }\n\n  public render() {\n    const languages = [...this.props.languages];\n    const filesToUpload = [...this.props.fileToBeUploadData];\n    const langList = languages.map((item, index) => (\n      <div className=\"row\" key={item.id} id={index.toString()}>\n        <div className=\"col-sm-2 vertical-middle\">\n          {item.name}:\n        </div>\n\n        <input\n          key={index}\n          className=\"choose-audio-btn\"\n          id={item.id.toString()}\n          type=\"file\"\n          accept=\"audio/*\"\n          onChange={this.onChange}\n          // @ts-ignore\n          onClick={(e) => e.target.value = null}\n        />\n        <button id={item.id.toString()} className=\"btn-audio-upload\" onClick={this.handleUploadClick}>Завантажити</button>\n\n        <div className=\"col-sm-6 vertical-middle\">\n          {filesToUpload.map((file) => {\n            if (file.speechIndex === this.props.id && file.languageId === item.id) {\n              return <span key={file.speechIndex}>{file.fileName}</span>;\n            }\n          })}\n        </div>\n      </div>\n    ));\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"delete-item\">\n            <button onClick={this.deleteHandler} className=\"btn-audio-item-delete\" id={\"removeButton\" + this.props.id}>\n              <i id={this.props.id.toString()} className=\"fas fa-times\" ></i>\n            </button>\n            <Tooltip placement=\"left\" isOpen={this.state.tooltipRemoveOpen} autohide={true} target={\"removeButton\" + this.props.id} toggle={this.tooltipRemoveToggle}>\n              Видалити фразу </Tooltip>\n          </div>\n          <div className=\"audio-item\">\n            <div className=\"col-sm-12\">\n              <div className=\"spanOrder\">№ - {this.props.order}</div>\n              <textarea\n                id={this.props.id.toString()}\n                onChange={this.handleChange}\n                className=\"audio-text\"\n                placeholder=\"Введіть оригінал тексту до аудіо.\"\n                value={this.props.text}\n              />\n            </div>\n            <div className=\"col-sm-8\" id={this.props.id.toString()}>\n\n              {langList.length > 0 ? langList : <p style={{ color: \"red\" }}>Виберіть мову</p>}\n              <Button outline color=\"primary\" size=\"sm\" onClick={() => {\n                this.props.handleChangeOrder(this.state.order, this.props.order);\n              }}>Змістити в</Button>\n              <input className=\"inputOrder\" type=\"number\" pattern=\"[0-9]*\" onInput={this.onChangeOrderState.bind(this)} />\n\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private onChangeOrderState = (event: any) => {\n    this.setState({\n      order: parseInt(event.target.value, 10),\n    },\n    );\n  }\n\n  private onChange = async (event: any) => {\n    const audio = event.target.files[0];\n    const languageId = parseInt(event.target.id, undefined);\n    const speechIndex = parseInt(event.target.parentNode.parentNode.id, undefined);\n\n    const result = this.props.checkIsOriginalTextEqual(audio, speechIndex);\n\n    if (result.isEqual) {\n      const newName = `${speechIndex}_${languageId}.mp3`;\n      const copyAudio = new File([audio], newName, { type: audio.type });\n      const formData = new FormData();\n      formData.append(\"File\", copyAudio);\n\n      await API.post(\"audio/upload\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      }).then((response) => {\n        this.props.onFileChange(copyAudio.name, audio.name, languageId, speechIndex);\n      });\n    } else {\n      alert(result.errorMessage);\n    }\n  }\n\n  private handleChange = (event: any) => {\n    this.props.onTextChange(event.target.value, parseInt(event.target.id, undefined));\n  }\n\n  private deleteHandler = (event: any) => {\n    const deleteItemId = parseInt(event.target.id, undefined);\n    this.props.onDelete(deleteItemId);\n  }\n}\n","export enum KeyChars {\n    Ctrl = \"Control\",\n    ArrowRight = \"ArrowRight\",\n    ArrowLeft = \"ArrowLeft\",\n    Space = \" \",\n    Tab = \"Tab\",\n}\n","import API from \"../../util/api\";\nimport * as actionTypes from \"./actionTypes\";\n\n// changing isNewFilesLoaded status\nexport const changeIsNewFilesLoaded = (nextValue: boolean) => {\n    return {\n        type: actionTypes.CHANGE_IS_NEW_FILES_LOADED,\n        payload: {\n            nextValue,\n        },\n    };\n};\n\n// adding new filesname\nexport const addNewFilesName = (filename: string) => {\n    return {\n        type: actionTypes.ADD_NEW_FILES_NAME,\n        payload: {\n            filename,\n        },\n    };\n};\n\n// deleting new files name\nexport const deleteNewFilename = (filenames: string[]) => {\n    return {\n        type: actionTypes.DELETE_NEW_FILES_NAME,\n        payload: {\n            filenames,\n        },\n    };\n};\n\nexport const changeAudioUploadToInitialState = () => {\n    return {\n        type: actionTypes.CHANGE_AUDIO_UPLOAD_TO_INITIAL_STATE,\n        payload: {\n        },\n    };\n};\n","import React, { Component, MouseEvent } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport apiManager from \"../../../util/apiManager\";\nimport history from \"../../../util/history\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport AudioUpload from \"../AudioUpload/AudioUpload\";\nimport \"./EditPerformance.css\";\n\ninterface IEditPerformanceState {\n    id: number;\n    title: string;\n    description: string;\n    isShow: boolean;\n}\n\ninterface IEditPerformanceProps {\n    match: {\n        params: {\n            number: any,\n        },\n    };\n\n    upload: any;\n}\n\nclass EditPerformance extends Component<IEditPerformanceProps, IEditPerformanceState> {\n    // @ts-ignore\n    public child = React.createRef<AudioUpload>();\n    public apimanager = new apiManager();\n\n    private isSaved: boolean = false;\n\n    constructor(props: IEditPerformanceProps) {\n        super(props);\n        this.state = {\n            id: -1,\n            title: \"\",\n            description: \"\",\n            isShow: false,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSave = this.handleSave.bind(this);\n    }\n\n    public handleChange(e: any) {\n        const val = e.target.value;\n\n        if (e.target.name === \"title\") {\n            this.setState({\n                title: val,\n            });\n        } else if (e.target.name === \"description\") {\n            this.setState({\n                description: val,\n            });\n        }\n    }\n\n    public async handleSave() {\n        this.setState({\n            isShow: true,\n        });\n\n        const title = this.state.title;\n        const description = this.state.description;\n\n        if (title !== \"\" && description !== \"\") {\n            // @ts-ignore\n            const isError = this.child.current.isSpeechesCorrect();\n\n            if (!isError) {\n                if (this.state.id !== -1) {\n                    const response = await this.apimanager.updatePerformance(JSON.stringify(this.state), this.state.id);\n                    if (response.status === 204) {\n                        if (!this.child.current) {\n                            return;\n                        }\n                        const result = await this.child.current.uploadHandler(this.state.id, true);\n                        \n                        if (result !== undefined) {\n                            alert(result.errorMessage);\n                            this.setState({\n                                isShow: false,\n                            });\n                            return;\n                        }\n                        history.push(\"/streamer/performance/\" + this.state.id);\n                        await this.loadData();\n                    } else {\n                        this.handleErrors(response);\n                    }\n\n                } else {\n                    const performance = {\n                        title: this.state.title,\n                        description: this.state.description,\n                    };\n                    const response = await this.apimanager.createPerformance(JSON.stringify(performance));\n                    if (response.status === 201) {\n                        if (!this.child.current) {\n                            return;\n                        }\n                        const JSONObj = await response.json();\n                        const result = await this.child.current.uploadHandler(JSONObj.id, false);\n\n                        // handling if error occured on server\n                        if (result !== undefined) {\n                            alert(result.errorMessage);\n\n                            this.setState({\n                                isShow: false,\n                            });\n                            return;\n                        }\n                        history.push(\"/streamer/performance/\" + JSONObj.id);\n                        await this.loadData();\n                    } else {\n                        this.handleErrors(response);\n                    }\n                }\n            } else {\n                alert(isError.errorMessage);\n            }\n        } else {\n            alert(\"Введіть назву та опис вистави...\");\n        }\n\n        this.setState({\n            isShow: false,\n        });\n    }\n\n    public onCancelHandler = async (event: MouseEvent) => {\n        // @ts-ignore\n        const isLoadedNewFiles = this.child.current.checkIfNewAudiosAreLoaded();\n        if (isLoadedNewFiles) {\n            let isConfirm = false;\n            if (this.state.id === -1) {\n                isConfirm = confirm(\"Були завантажені нові файли. Ви справді хочете залишити сторінку і видалити файли?\");\n            } else {\n                isConfirm = confirm(\"Були змінені деякі файли. Ви справді хочете перейти на нову сторінку і залишити старі зміни?\");\n            }\n\n            if (isConfirm) {\n                // @ts-ignore\n                await this.child.current.removeNewLoadedFiles();\n            } else {\n                event.preventDefault();\n            }\n        }\n    }\n\n    public async loadData() {\n        if (this.props.match.params.number !== \"new\") {\n            const resp = await this.apimanager.getPerformanceById(this.props.match.params.number);\n\n            if (resp.status === 200) {\n                const data = await resp.json();\n                this.setState({\n                    id: data.id,\n                    title: data.title,\n                    description: data.description,\n                });\n\n                if (!this.child.current) {\n                    return;\n                }\n\n                this.child.current.audioComponentDidMount(data.id);\n            } else {\n                this.handleErrors(resp);\n            }\n        } else {\n            if (!this.child.current) {\n                return;\n            }\n\n            this.child.current.audioComponentDidMount(this.state.id);\n        }\n    }\n\n    public render() {\n        return (\n            <div className=\"editForm\">\n                <Spinner isShow={this.state.isShow} />\n\n                <div className=\"formHeader\">\n                    <p>{this.props.match.params.number === \"new\" ? \"Створення вистави\" : \"Редагування вистави\"}</p>\n                    <div className=\"text-right\">\n                        <button className=\"saveButton\" onClick={this.handleSave} ><i className=\"fas fa-check-circle saveIcon\"></i>Зберегти</button>\n                        <Link to=\"/streamer/performance/\" onClick={this.onCancelHandler}>\n                            <button className=\"cancelButton\">\n                                <i className=\"fas fa-times-circle saveIcon\"></i>Вiдмiна\n                            </button>\n                        </Link>\n                    </div>\n                </div>\n\n                <input type=\"hidden\" readOnly={true} value={this.state.id} />\n                <p className=\"formTitles\">Назва вистави</p>\n                <input type=\"text\" name=\"title\" onChange={this.handleChange} value={this.state.title} />\n                <p className=\"formTitles\">Опис вистави</p>\n                <textarea className=\"descrField\" name=\"description\" onChange={this.handleChange} value={this.state.description} />\n\n                <AudioUpload ref={this.child}></AudioUpload>\n            </div>\n        );\n    }\n\n    public componentDidMount() {\n        this.loadData();\n    }\n\n    private handleErrors = (response: Response) => {\n        if (response.status === 500) {\n            console.log(response);\n            alert(\"Виникла помилка на сервері!\");\n        } else {\n            console.log(response);\n            alert(\"Не вдалось підключитись до серверу. Перевірте з'єднання з сервером.\");\n        }\n    }\n}\n\nexport default EditPerformance;\n","import React from \"react\";\nimport { Button, Modal, ModalBody, ModalFooter, ModalHeader } from \"reactstrap\";\nimport \"../Performances/Performance/Performance.css\";\nimport \"./PopupConfirmationDialog.css\";\n\ninterface IPopupConfirmationDialogProps {\n  removeMethod: any;\n  message: string;\n  labelDangerButton: string;\n  labelPrimaryButton: string;\n}\n\ninterface IPopupConfirmationDialogState {\n  tooltipOpen: boolean;\n  modal: boolean;\n}\n\nexport default class PopupConfirmationDialog extends React.Component<IPopupConfirmationDialogProps, IPopupConfirmationDialogState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      tooltipOpen: false,\n      modal: false,\n    };\n\n    this.toggle = this.toggle.bind(this);\n    this.tooltipToggle = this.tooltipToggle.bind(this);\n  }\n\n  public toggle() {\n    this.setState({\n      tooltipOpen: false,\n      modal: !this.state.modal,\n    });\n  }\n\n  public tooltipToggle() {\n    this.setState({\n      tooltipOpen: !this.state.tooltipOpen,\n    });\n  }\n\n  public render() {\n    return (\n      <div>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className=\"removePerformancePopup\">\n          <ModalHeader\n            className=\"popupHeader\"\n            toggle={this.toggle}></ModalHeader>\n          <ModalBody\n            className=\"popupBody\">\n            {this.props.message}\n          </ModalBody>\n          <ModalFooter\n            className=\"popupHeader\">\n            <Button color=\"danger\" onClick={this.props.removeMethod}>{this.props.labelDangerButton}</Button>\n            <Button color=\"primary\" onClick={this.toggle}>{this.props.labelPrimaryButton}</Button>\n          </ModalFooter>\n        </Modal>\n      </div >\n    );\n  }\n}\n","import config from \"react-global-configuration\";\nclass ApiManagerLanguage {\n    public backendUrl = \"\";\n    constructor() {\n        this.backendUrl = config.get(\"urlApi\");\n    }\n    public async createLang(json: string): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language`, {\n            method: \"POST\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: json,\n        });\n        return response;\n    }\n\n    public async updateLang(index: number, json: string): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language/${index}`, {\n            method: \"PUT\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: json,\n        });\n        return response;\n    }\n    public async getLang(): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language`, {\n\n            method: \"GET\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n        });\n        return response;\n    }\n    public async getLangById(index: number): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language/${index}`);\n        return response;\n    }\n    public async removeLang(index: number): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language/${index}`, {\n\n            method: \"DELETE\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            }});\n        return response;\n    }\n}\nexport default ApiManagerLanguage;\n","import React from \"react\";\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from \"reactstrap\";\n\ninterface IDropdownLanguageState {\n    dropdownOpen: boolean;\n    currentLanguage: {\n        id: number,\n        name: string,\n    };\n}\ninterface IDropdownLanguageProps {\n    updateCurrentLang: any;\n    languages: Array<{\n        id: number,\n        name: string,\n    }>;\n}\n\nexport default class DropdownLanguage extends React.Component<IDropdownLanguageProps, IDropdownLanguageState> {\n    constructor(props: any) {\n        super(props);\n\n        this.toggle = this.toggle.bind(this);\n        this.state = {\n            currentLanguage: { id: 0, name: \"Мова\" },\n            dropdownOpen: false,\n        };\n    }\n\n    public toggle() {\n        this.setState((prevState) => ({\n            dropdownOpen: !prevState.dropdownOpen,\n        }));\n    }\n\n    public changeCurrentLanguageHandler = (lang: any) => {\n        const curLang = lang;\n        this.props.updateCurrentLang(curLang);\n        this.setState((state) => ({\n            currentLanguage: curLang,\n        }));\n    }\n\n    public compare(a: any, b: any) {\n        if (a.name < b.name) {\n          return -1;\n        }\n        if (a.name > b.name) {\n          return 1;\n        }\n        return 0;\n      }\n\n    public render() {\n        let language = null;\n        const sortable = this.props.languages.sort(this.compare);\n\n        language = (\n            <div>\n                {sortable.map((lang, index) => {\n                    index = lang.id;\n                    return <DropdownItem key={index} onClick={() => this.changeCurrentLanguageHandler(lang)}>{lang.name}</DropdownItem>;\n                })}\n            </div>\n        );\n\n        return (\n            <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggle}>\n                <DropdownToggle caret>\n                    {this.state.currentLanguage.name}\n                </DropdownToggle>\n                <DropdownMenu>\n                    {language}\n                </DropdownMenu>\n            </Dropdown>\n        );\n\n    }\n}\n","import React from \"react\";\nimport { Button, Form, FormGroup, Input, Label, Modal, ModalBody, ModalFooter, ModalHeader } from \"reactstrap\";\nimport PopupConfirmationDialog from \"../PopupConfirmationDialog/PopupConfirmationDialog\";\nimport apiManager from \"./apiManagerLanguage\";\nimport DropdownLanguage from \"./DropdownLanguage\";\nimport \"./LanguageSelectionPopup.css\";\ninterface ILanguageState {\n    modal: boolean;\n    radioState: string;\n    currentLang: {\n        id: number,\n        name: string,\n    };\n    languages: Array<{\n        id: number,\n        name: string,\n    }>;\n}\n\ninterface ILanguageProps {\n    buttonLabel: string;\n}\n\nexport default class LanguageSelectionPopup extends React.Component<ILanguageProps, ILanguageState> {\n    public apiManager = new apiManager();\n    public child = React.createRef<PopupConfirmationDialog>();\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            currentLang: { id: -1, name: \"\" },\n            languages: [],\n            modal: false,\n            radioState: \"\",\n        };\n        this.toggle = this.toggle.bind(this);\n    }\n\n    public getLang = async () => {\n        const resp = await this.apiManager.getLang();\n        const data = await resp.json();\n        this.setState(\n            {\n                languages: data,\n            });\n    }\n\n    public onAddLang = async (lang: any) => {\n        const resp = await this.apiManager.createLang(JSON.stringify(lang));\n        this.getLang();\n    }\n\n    public onDelLang = async (lang: any) => {\n        const resp = await this.apiManager.removeLang(lang.id);\n        this.getLang();\n    }\n\n    public onUpdateLang = async (lang: any) => {\n        const resp = await this.apiManager.updateLang(lang.id, JSON.stringify(lang));\n        this.getLang();\n    }\n\n    public toggle() {\n        this.setState({\n            modal: !this.state.modal,\n            radioState: \"\",\n            currentLang: { id: -1, name: \"\" },\n        });\n    }\n\n    public radioHandler = (event: any) => {\n        const radioState = event.target.value;\n        this.setState({ radioState });\n    }\n\n    public updateCurrentLang = (value: any) => {\n        this.setState({ currentLang: value });\n    }\n\n    public nameUpdateHandler = () => {\n        if (this.state.currentLang.id !== -1) {\n            if (!this.state.languages.find((item) => item.name === this.state.currentLang.name)) {\n                this.onUpdateLang(this.state.currentLang);\n                this.setState({\n                    currentLang: { id: -1, name: \"\" },\n                });\n                this.toggle();\n            } else{\n                alert(`Мова з назвою \"${this.state.currentLang.name}\" вже існує`);\n            }\n        } else {\n            alert(\"Виберіть мову\");\n        }\n    }\n\n    public nameChangedHandler = (event: any) => {\n        this.setState({ currentLang: { id: this.state.currentLang.id, name: event.target.value } });\n    }\n\n    public languageDeleteHandler = () => {\n        if (this.state.currentLang.id !== -1) {\n            this.onDelLang(this.state.currentLang);\n            this.setState({\n                currentLang: { id: -1, name: \"\" },\n            });\n            this.toggle();\n        } else {\n            alert(\"Виберіть мову\");\n        }\n\n    }\n\n    public languageAddHandler = () => {\n        if (this.state.currentLang.name === \"\") {\n            alert(\"Введіть назву мови\");\n        } else if (this.state.languages.find((item) => item.name === this.state.currentLang.name)) {\n            alert(`Мова з назвою \"${this.state.currentLang.name}\" вже існує`);\n        } else {\n\n            const newLanguage = {\n                id: 0,\n                name: this.state.currentLang.name,\n            };\n            this.onAddLang(newLanguage);\n            this.toggle();\n        }\n    }\n\n    public toggleChildComponent = async (e: any) => {\n        if (this.state.currentLang.id !== -1) {\n            if (!this.child.current) {\n                return;\n            }\n            this.child.current.toggle();\n        } else {\n            alert(\"Виберіть мову\");\n        }\n    }\n\n    public componentDidMount() {\n        this.getLang();\n    }\n\n    public render() {\n\n        const currentLangName = this.state.currentLang.name;\n        let inputs = null;\n        if (this.state.radioState === \"add\") {\n            inputs = (\n                <div>\n                    <Form>\n                        <Label >Введіть назву мови щоб додати</Label>\n                        <Input\n                            className=\"inputLang\"\n                            placeholder=\"Назва мови\"\n                            onChange={this.nameChangedHandler} /><br />\n                        <Button\n                            color=\"primary\"\n                            onClick={() => this.languageAddHandler()} >Додати мову</Button>\n                    </Form>\n                </div>\n            );\n        } else if (this.state.radioState === \"update\") {\n            inputs = (\n                <div>\n                    <DropdownLanguage\n                        updateCurrentLang={this.updateCurrentLang}\n                        languages={this.state.languages}></DropdownLanguage> <br></br>\n                    <Form >\n                        <Label >Оберіть мову для редагування</Label>\n                        <Input\n                            className=\"inputLang\"\n                            onChange={this.nameChangedHandler}\n                            value={this.state.currentLang.name}\n                        /><br />\n                        <Button\n                            color=\"primary\"\n                            onClick={() => this.nameUpdateHandler()} >Редагувати</Button>\n                    </Form>\n                </div>\n            );\n        } else if (this.state.radioState === \"delete\") {\n            inputs = (\n                <div>\n                    <DropdownLanguage\n                        updateCurrentLang={this.updateCurrentLang}\n                        languages={this.state.languages}></DropdownLanguage> <br></br>\n                    <Form>\n                        <Button\n                            color=\"danger\"\n                            onClick={this.toggleChildComponent} >Видалити мову</Button><br />\n                        <PopupConfirmationDialog\n                            removeMethod={this.languageDeleteHandler.bind(this)}\n                            message=\"Видалення мови приведе до видалення усіх аудіозаписів звязаних з цією мовою. Ви дійсно хочете видалити виставу?\"\n                            labelDangerButton=\"Видалити\"\n                            labelPrimaryButton=\"Відмінити\"\n                            ref={this.child}\n                        />\n                    </Form>\n                </div>\n            );\n        }\n\n        return (\n\n            <div className=\"languageButton\">\n                <Button\n                    color=\"primary\"\n                    onClick={this.toggle}>{this.props.buttonLabel}</Button>\n                <Modal\n                    isOpen={this.state.modal}\n                    toggle={this.toggle}>\n                    <ModalHeader\n                        toggle={this.toggle}\n                        className=\"popupHeader\">Керування мовами дубляжу</ModalHeader>\n                    <ModalBody className=\"popupBody\">\n                        <div>\n                            <FormGroup tag=\"fieldset\">\n                                <FormGroup check>\n                                    <Label check>\n                                        <Input type=\"radio\" name=\"radioLang\" value=\"add\" onChange={this.radioHandler} />{\" \"}\n                                        Додати нову мову дубляжу</Label>\n                                </FormGroup>\n                                <FormGroup check>\n                                    <Label check>\n                                        <Input type=\"radio\" name=\"radioLang\" value=\"update\" onChange={this.radioHandler} />{\" \"}\n                                        Змінити назву мови дубляжу</Label>\n                                </FormGroup>\n                                <FormGroup check >\n                                    <Label check>\n                                        <Input type=\"radio\" name=\"radioLang\" value=\"delete\" onChange={this.radioHandler} />{\" \"}\n                                        Видалити мову дубляжу</Label>\n                                </FormGroup>\n                            </FormGroup>\n                        </div>\n                        {inputs}\n                    </ModalBody>\n                    <ModalFooter className=\"popupHeader\">\n                        <Button color=\"secondary\" onClick={this.toggle}>Закрити</Button>\n                    </ModalFooter>\n                </Modal>\n            </div >\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Tooltip } from \"reactstrap\";\nimport PopupConfirmationDialog from \"../../PopupConfirmationDialog/PopupConfirmationDialog\";\nimport \"./Performance.css\";\n\ninterface IPerformanceProps {\n    deleteMethod: any;\n    index: number;\n    title: string;\n    description: string;\n}\n\ninterface IPerformanceState {\n    tooltipEditOpen: boolean;\n    tooltipRemoveOpen: boolean;\n}\nexport default class Performance extends Component<IPerformanceProps, IPerformanceState> {\n    public child = React.createRef<PopupConfirmationDialog>();\n    constructor(props: any) {\n        super(props);\n        this.tooltipEditToggle = this.tooltipEditToggle.bind(this);\n        this.tooltipRemoveToggle = this.tooltipRemoveToggle.bind(this);\n        this.state = {\n            tooltipEditOpen: false,\n            tooltipRemoveOpen: false,\n        };\n    }\n\n    public tooltipEditToggle() {\n        this.setState({\n            tooltipEditOpen: !this.state.tooltipEditOpen,\n        });\n    }\n    public tooltipRemoveToggle() {\n        this.setState({\n            tooltipRemoveOpen: !this.state.tooltipRemoveOpen,\n        });\n    }\n\n    public remove() {\n        this.props.deleteMethod(this.props.index);\n    }\n\n    public toggleChildComponent = async (e: any) => {\n        if (!this.child.current) {\n            return;\n        }\n        this.child.current.toggle();\n    }\n    public render() {\n        return (\n            <div className=\"performance\">\n                <div className=\"row\">\n                    <p className=\"col-md-11 pull-left perfTitle\" >{this.props.title}</p>\n                    <div className=\"col-md-1 text-right PerformanceButtons \">\n                        <Link to={\"/streamer/performance/\" + this.props.index} >\n                            <button className=\"editBtn\" id={\"editBtn\" + this.props.index}/>\n                            <Tooltip placement=\"left\" isOpen={this.state.tooltipEditOpen} autohide={false} target={\"editBtn\" + this.props.index} toggle={this.tooltipEditToggle}>\n                                Редагувати виставу </Tooltip>\n                        </Link>\n                        <div>\n                            <span className=\"close\" onClick={this.toggleChildComponent} id={\"actionButton\" + this.props.index}>x</span>\n                            <Tooltip placement=\"left\" isOpen={this.state.tooltipRemoveOpen} autohide={true} target={\"actionButton\" + this.props.index} toggle={this.tooltipRemoveToggle}>\n                                Видалити виставу </Tooltip>\n                        </div>\n\n                        <PopupConfirmationDialog\n                            removeMethod={this.remove.bind(this)}\n                            message=\"Видалення вистави приведе до видалення всіх фраз і аудіофайлів. Ви дійсно хочете видалити виставу?\"\n                            labelDangerButton=\"Видалити\"\n                            labelPrimaryButton=\"Відмінити\"\n                            ref={this.child}\n                        />\n                    </div>\n                </div>\n\n            <p className=\"perfDescr\">\n                {this.props.description}\n            </p>\n            <Link to={\"/streamer/stream/\" + this.props.index} className=\"gotoPerfLink\">\n                <button className=\"gotoPerfBtn \">Перейти до вистави <div className=\"gotoImage\" /></button>\n            </Link>\n        </div>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Dispatch } from \"redux\";\nimport { Button } from \"reactstrap\";\n\nimport Aux from \"../../../hoc/Auxiliary\";\nimport * as actionCreators from \"../../../store/actions/index\";\nimport apiManager from \"../../../util/apiManager\";\nimport API from \"../../../util/api\";\nimport LanguageSelectionPopup from \"../../LanguageSelectionPopup/LanguageSelectionPopup\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport Performance from \"../Performance/Performance\";\n\nimport \"./PerformanceList.css\";\n\ninterface IPerformanceState {\n    performances: Array<{\n        id: number,\n        title: string,\n        description: string,\n    }>;\n    isLoading: boolean;\n}\n\ninterface IPerformanceProps {\n    performances: [];\n    onChangeCurrentTabId: Function;\n}\n\nclass PerformanceList extends Component<IPerformanceProps, IPerformanceState> {\n    public apimanager = new apiManager();\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            performances: [],\n            isLoading: true,\n        };\n        this.removePerformance = this.removePerformance.bind(this);\n    }\n\n    public getPerformances = async () => {\n        const resp = await this.apimanager.getPerformances();\n        if (resp.status === 200) {\n            const data = await resp.json();\n            this.setState({\n                performances: data,\n            });\n        } else if (resp.status === 500) {\n            alert(\"Виникла помилка на сервері.\");\n        } else {\n            alert(\"Не вдалось підключитись до серверу. Перевірте з'єднання з сервером.\");\n        }\n    }\n\n    public async removePerformance(index: number) {\n        const resp = await this.apimanager.removePerformance(index);\n        if (resp.status === 204) {\n            const arr = this.state.performances.filter((obj) => {\n                return obj.id !== index;\n            });\n\n            this.setState({\n                performances: arr,\n            });\n        } else {\n            this.getPerformances();\n        }\n    }\n\n    public handleUploadClick(event: any) {\n        const ch: any = document.getElementById(\"waitingUploadInput\");\n        ch.click();\n    }\n\n    private onChange = async (event: any) => {\n        const audio = event.target.files[0];\n\n        const formData = new FormData();\n        formData.append(\"File\", audio);\n        \n        if(audio.name.slice(-4) !== \".mp3\"){\n            return alert(\"Ви намагаєтесь завантажити не аудіо файл\");            \n        }        \n\n        await API.post(\"audio/upload/waiting\", formData, {\n            headers: { \"Content-Type\": \"multipart/form-data\" },\n        });\n\n        alert(\"Аудіо файл, що грає під час очікування трансляції, завантажено\");\n    }\n    \n\n    public render() {\n        return (\n            <Aux>\n                <Spinner isShow={this.state.isLoading} />\n                <div className=\"perfomanceList\">\n                    <div className=\"header\">\n                        <p>Вистави</p>\n                        <Link to=\"/streamer/performance/new\" >\n                            <button className=\"addButton\"><div className=\"addImage\" />Додати виставу</button>\n                        </Link>\n                    </div>\n                    {/* popup for language management. Created by reactstrap. Props here https://reactstrap.github.io/components/modals/ */}\n                    <LanguageSelectionPopup\n                        buttonLabel=\"Керувати мовами дубляжу\" />\n                         \n                         <input\n                            className=\"choose-audio-btn\"\n                            id = \"waitingUploadInput\"\n                            type=\"file\"\n                            accept=\"audio/*\"\n                            onChange={this.onChange}\n                        />\n                        <Button onClick={this.handleUploadClick} id=\"waitingUpload\" color=\"primary\" className='languageButton'/*  onClick={this.toggle} */>Завантажити аудіо для очікування трансляції</Button>\n                        \n                        {\n                        this.state.performances.map((item) => {\n                            return <Performance deleteMethod={this.removePerformance} index={item.id} key={item.id} title={item.title} description={item.description} />;\n                        },\n                        )}\n                </div>\n            </Aux>\n        );\n    }\n\n    public async componentDidMount() {\n        await this.getPerformances();\n        this.setState({\n            isLoading: false,\n        });\n\n        this.props.onChangeCurrentTabId(0);\n    }\n\n    public componentWillUnmount() {\n        console.log(\"[Performance List]: Component will unmount\");\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onChangeCurrentTabId: (nextId: number) => dispatch(actionCreators.changeCurrentTabId(nextId)),\n    };\n};\n\nexport default connect(null, mapDispatchToProps)(PerformanceList);\n","import React, { Component } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport EditPerformance from \"./EditPerformance/EditPerformance\";\nimport PerformanceList from \"./PerformanceList/PerformanceList\";\n\nclass PerformancesPage extends Component {\n\n  public render() {\n    return (\n      <Switch>\n        <Route exact path=\"/\" render={() => (\n          <Redirect to=\"/streamer/performance\" />\n        )} />\n        <Route exact path=\"/streamer/performance\" component={PerformanceList} />\n        <Route path=\"/streamer/performance/:number\" component={EditPerformance} />\n      </Switch>\n    );\n  }\n}\n\nexport default PerformancesPage;\n","import React, { Component } from \"react\";\n\nconst withClass = (WrappedComponent: any, classes: string) => {\n    return class extends Component<any, any> {\n        public render() {\n            return (\n                <div className={classes}>\n                    <WrappedComponent {...this.props} />\n                </div>\n            );\n        }\n    };\n};\n\nexport default withClass;\n","import React from \"react\";\nimport Aux from \"../../../../hoc/Auxiliary\";\nimport WithClass from \"../../../../hoc/WithClass\";\nimport classes from \"./StreamAudio.module.css\";\n\ninterface IAudioProps {\n    text: string;\n    duration: number;\n    isPlaying: boolean;\n    playByIdHandler: any;\n    currentAudioId: number;\n    connectingStatus: boolean;\n}\n\nconst audio = (props: IAudioProps) => {\n\n    const getViewNumber = (num: number): string => {\n        if (num < 10) {\n            return `0${num}`;\n        } else {\n            return num.toString();\n        }\n    };\n\n    const convSecondsToMinutes = (second: number): string => {\n        const minutes: number = Math.floor(second / 60);\n        const seconds: number = second % 60;\n\n        return `${getViewNumber(minutes)}:${getViewNumber(seconds)}`;\n    };\n\n    const iconActionsClasses = [\"fas\", classes.icon, \"fa-play-circle\"];\n    if (props.isPlaying) {\n        iconActionsClasses.pop();\n        iconActionsClasses.push(\"fa-pause-circle\");\n    } else {\n        iconActionsClasses.pop();\n        iconActionsClasses.push(\"fa-play-circle\");\n    }\n\n    if (!props.connectingStatus) {\n        iconActionsClasses.push(classes.disable);\n    }\n\n    function playHandler() {\n        props.playByIdHandler(props.currentAudioId);\n    }\n\n    return (\n        <Aux>\n            <i className={iconActionsClasses.join(\" \")} onClick={playHandler}></i>\n            <span>\n                {props.text}\n            </span>\n            <span className={classes.time}>{convSecondsToMinutes(props.duration)}</span>\n        </Aux>\n    );\n};\n\nexport default WithClass(audio, classes.audio);\n","import React from \"react\";\n\nimport withClass from \"../../../hoc/WithClass\";\nimport StreamAudio from \"./StreamAudio/StreamAudio\";\n\nimport classes from \"./StreamAudios.module.css\";\n\ninterface IStreamAudioProps {\n    audios: any;\n    currentAudioId: number;\n    playByIdHandler: any;\n    isPlaying: boolean;\n    connectingStatus: boolean;\n}\n\nconst streamAudios = (props: IStreamAudioProps) => {\n    const audios = props.audios.map((audio: any, index: number) => {\n        return <StreamAudio\n                    key={index}\n                    text={audio.text}\n                    duration={audio.duration}\n                    currentAudioId={audio.id}\n                    isPlaying={props.currentAudioId === audio.id && props.isPlaying ? true : false}\n                    playByIdHandler={props.playByIdHandler}\n                    connectingStatus={props.connectingStatus} />;\n    });\n\n    return (\n        audios\n    );\n};\n\nexport default withClass(streamAudios, classes.audios);\n","import Radium from \"radium\";\nimport React from \"react\";\n\ninterface IButtonProps {\n    width: string;\n    height: string;\n    backgroundColor: string;\n    borderRadius: string;\n    fontSize: string;\n    transitionDuration: string;\n    className: string;\n    text: string;\n    hover?: object;\n    clicked?: any;\n}\n\nclass Button extends React.Component<IButtonProps> {\n\n    public render() {\n        const style = {\n            \":hover\": {\n                ...this.props.hover,\n            },\n            \"backgroundColor\": this.props.backgroundColor,\n            \"borderRadius\": this.props.borderRadius,\n            \"fontSize\": this.props.fontSize,\n            \"height\": this.props.height,\n            \"transition\": \"all \" + this.props.transitionDuration,\n            \"width\": this.props.width,\n        };\n\n        return (\n            <button style={style} className={this.props.className} onClick={this.props.clicked}>\n                {this.props.children}\n                <span>{this.props.text}</span>\n            </button>\n        );\n    }\n}\n\nexport default Radium(Button);\n","import React from \"react\";\n\nimport Aux from \"../../../hoc/Auxiliary\";\nimport WithClass from \"../../../hoc/WithClass\";\nimport Button from \"../../UI/Button/Button\";\n\nimport classes from \"./StreamHead.module.css\";\n\ninterface IStreamHeadProps {\n    name: string;\n    connectingStatus: boolean;\n    clicked: Function;\n}\n\nconst streamHead = (props: IStreamHeadProps) => {\n    const btnStyles = {\n        backgroundColor: \"#0057c6\",\n        borderRadius: \"25px\",\n        className: classes.btn,\n        fontSize: \"18px\",\n        height: \"45px\",\n        hover: {\n            backgroundColor: \"#083d81\",\n            cursor: \"pointer\",\n        },\n        text: \"Приєднатись до сервера\",\n        transitionDuration: \"0.3s\",\n        width: \"auto\"\n    };\n    let icon = <i className=\"fas fa-play-circle\"></i>;\n\n    if (props.connectingStatus) {\n        btnStyles.backgroundColor = \"#da4453\";\n        btnStyles.text = \"Відключитись від сервера!\";\n        btnStyles.hover.backgroundColor = \"#cf1225\";\n        icon = <i className=\"fas fa-stop-circle\"></i>;\n    }\n\n    return (\n        <Aux>\n            <span className={classes.title}>{props.name}</span>\n                <Button {...btnStyles} clicked={props.clicked}>\n                    {icon}\n                </Button>\n        </Aux>\n    );\n};\n\nexport default WithClass(streamHead, classes.streamHead);\n","class PlaybackManager {\n    public currentTime: number;\n    private maxDuration: number;\n    private isPause: boolean;\n    private timerId: any;\n\n    constructor() {\n        this.currentTime = 0;\n        this.maxDuration = 0;\n        this.isPause = true;\n        this.timerId = 0;\n    }\n\n    public play = (changeCurrentPlaybackTime: any, pause: any, totalDuration: number) => {\n            if (!this.timerId) {\n                this.isPause = false;\n                this.maxDuration = totalDuration;\n                this.timerId = setInterval(() => {\n                    if (!this.isPause && this.currentTime < this.maxDuration) {\n                        this.currentTime++;\n                        changeCurrentPlaybackTime(this.currentTime);\n                    } else if (this.currentTime >= this.maxDuration) {\n                        pause();\n                    }\n                }, 1000);\n            }\n    }\n\n    public pause = () => {\n        if (this.timerId) {\n            this.isPause = true;\n        }\n    }\n\n    public continue = () => {\n        if (this.timerId) {\n            this.isPause = false;\n        }\n    }\n\n    public reset = (onChangeCurrentPlaybackTime: any) => {\n        if (this.timerId) {\n            this.isPause = true;\n            this.currentTime = 0;\n            onChangeCurrentPlaybackTime(this.currentTime);\n\n            clearInterval(this.timerId);\n            this.timerId = 0;\n        }\n    }\n}\n\nexport const playbackManager = new PlaybackManager();\n","import React, { Component } from \"react\";\nimport KeyBinding from \"react-keybinding-component\";\nimport { connect } from \"react-redux\";\n\nimport Aux from \"../../hoc/Auxiliary\";\nimport WithClass from \"../../hoc/WithClass\";\nimport Spinner from \"../UI/Spinner/Spinner\";\nimport StreamAudios from \"./StreamAudios/StreamAudios\";\nimport StreamHead from \"./StreamHead/StreamHead\";\n\nimport * as actionCreators from \"../../store/actions/index\";\nimport StateType from \"../../store/state/state\";\n\nimport { signalRManager } from \"../../index\";\nimport ApiManager from \"../../util/apiManager\";\nimport { KeyChars } from \"../../util/keyChars\";\nimport { playbackManager } from \"../../util/playbackManager\";\n\nimport classes from \"./Stream.module.css\";\n\ninterface IStreamState {\n    perfomanceId: number;\n    performanceName: string;\n    isFirst: boolean;\n    isWarning: boolean;\n    isLoading: boolean;\n}\n\ninterface IStreamProps {\n    match: {\n        params: {\n            number: number,\n        },\n    };\n    performanceId: number;\n    connectingStatus: boolean;\n    isPlaying: boolean;\n    currentSpeechId: number;\n    maxDuration: number;\n    speeches: Array<{\n        id: number,\n        text: string,\n        duration: number,\n    }>;\n    onSavePerformanceId: Function;\n    onSaveSpeeches: Function;\n    onSaveCurrentSpeechId: Function;\n    onChangeStreamingStatus: Function;\n    onChangeStreamStateToInitial: Function;\n    onChangeCurrentPlaybackTime: Function;\n    onChangeConnectingStatus: Function;\n    onChangeCurrentTabId: Function;\n}\n\ninterface IMapKeysBinding {\n    [KeyChars.Space]: boolean;\n    [key: string]: boolean;\n}\n\nclass Stream extends Component<IStreamProps, IStreamState> {\n    private apiManager: ApiManager = new ApiManager();\n    private map: IMapKeysBinding = {\n        [KeyChars.Space]: false,\n    };\n    private repeat: boolean = true;\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            isFirst: true,\n            isWarning: false,\n            perfomanceId: this.props.match.params.number,\n            performanceName: \"\",\n            isLoading: true,\n        };\n    }\n\n    public changeConnectingStatus = async (event: Event) => {\n        event.preventDefault();\n\n        if (this.props.speeches !== undefined) {\n            if (!this.props.connectingStatus) {\n                await signalRManager.connectToHub()\n                    .then(async () => {\n                        await signalRManager.sendCommand(\"Start\")\n                            .then(() => this.props.onChangeConnectingStatus(true))\n                            .catch(() => alert(\"Виникла помилка на сервері!\"));\n                    })\n                    .catch(() => alert(\"Виникла помилка на сервері!\"));\n            } else {\n                if (this.props.isPlaying) {\n                    await this.pause();\n                }\n\n                await signalRManager.sendCommand(\"End\")\n                    .then(async () => {\n                        await signalRManager.disconnectFromHub()\n                            .then(() => {\n                                this.props.onChangeConnectingStatus(false);\n\n                                if (this.props.speeches !== undefined && this.props.speeches.length !== 0) {\n                                    this.props.onSaveCurrentSpeechId(this.props.speeches[0].id);\n                                }\n                            })\n                            .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n                    })\n                    .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n            }\n        } else {\n            alert(\"Здається ця вистава не містить фрагментів для програвання...\");\n        }\n    }\n\n    public playByIdHandler = async (id: number) => {\n        if (this.props.connectingStatus) {\n            if (this.state.isFirst || (this.props.isPlaying && id !== this.props.currentSpeechId)) {\n                await signalRManager.sendCommand(this.props.performanceId + \"_\" + id)\n                .then(() => {\n                    this.props.onSaveCurrentSpeechId(id);\n                    this.props.onChangeStreamingStatus(true);\n\n                    playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n                    playbackManager.play(\n                        this.props.onChangeCurrentPlaybackTime,\n                        this.pause.bind(this),\n                        this.props.maxDuration);\n\n                    if (this.state.isFirst) {\n                        this.setState({\n                            isFirst: false,\n                        });\n                    }\n                })\n                .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n            } else if (!this.props.isPlaying) {\n                await signalRManager.sendCommand(this.props.performanceId + \"_\" + id)\n                .then(() => {\n                    this.props.onSaveCurrentSpeechId(id);\n                    this.props.onChangeStreamingStatus(true);\n\n                    playbackManager.play(\n                        this.props.onChangeCurrentPlaybackTime,\n                        this.pause.bind(this),\n                        this.props.maxDuration);\n                })\n                .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n            } else {\n                await this.pause();\n            }\n        }\n    }\n\n    public pause = async (): Promise<void> => {\n        return await signalRManager.sendCommand(\"Pause\")\n                .then(() => {\n                    this.props.onChangeStreamingStatus(false);\n                    playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n                })\n                .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n    }\n\n    public playPauseHandler = async (event: Event) => {\n        if (this.props.connectingStatus) {\n            event.preventDefault();\n\n            if (!this.props.isPlaying) {\n                await signalRManager.sendCommand(this.props.performanceId + \"_\" + this.props.currentSpeechId);\n                this.props.onChangeStreamingStatus(true);\n\n                playbackManager.play(\n                    this.props.onChangeCurrentPlaybackTime,\n                    this.pause.bind(this),\n                    this.props.maxDuration);\n            } else {\n                await this.pause();\n            }\n        }\n    }\n\n    public checkKeys = (...keys: string[]) => {\n        for (const key of keys) {\n            if (!this.map[key]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public onKeyDownUpHandler = async (event: KeyboardEvent) => {\n        this.map[event.key] = event.type === \"keydown\";\n\n        if (this.checkKeys(KeyChars.Space) && this.repeat) {\n            await this.playPauseHandler(event);\n            this.repeat = false;\n        } else if (event.type === \"keyup\") {\n            this.repeat = true;\n        }\n    }\n\n    public render() {\n        return (\n            <Aux>\n                <Spinner isShow={this.state.isLoading} />\n                <StreamHead\n                    name={this.state.performanceName}\n                    connectingStatus={this.props.connectingStatus}\n                    clicked={(event: Event) => this.changeConnectingStatus(event) } />\n                <StreamAudios\n                    audios={this.props.speeches !== undefined ? this.props.speeches : []}\n                    connectingStatus={this.props.connectingStatus}\n                    currentAudioId={this.props.currentSpeechId}\n                    playByIdHandler={this.playByIdHandler}\n                    isPlaying={this.props.isPlaying} />\n                <KeyBinding onKey={(event: KeyboardEvent) => this.onKeyDownUpHandler(event)} type=\"keydown\"/>\n                <KeyBinding onKey={(event: KeyboardEvent) => this.onKeyDownUpHandler(event)} type=\"keyup\"/>\n            </Aux>\n        );\n    }\n\n    public async componentDidMount() {\n        const response = await this.apiManager.getPerformanceById(this.state.perfomanceId);\n        if (response.status === 200) {\n            const performance = await response.json();\n            this.setState({\n                performanceName: performance.title,\n            });\n\n            this.props.onSavePerformanceId(this.state.perfomanceId);\n            const speechesResponse = await this.apiManager.getSpeechInfo(this.state.perfomanceId);\n            if (speechesResponse.status === 200) {\n                const speeches = await speechesResponse.json();\n                this.props.onSaveSpeeches(speeches);\n            } else {\n                this.handleError(speechesResponse);\n            }\n        } else {\n            this.handleError(response);\n        }\n\n        this.setState({\n            isLoading: false,\n        });\n\n        this.props.onChangeCurrentTabId(1);\n\n        window.onbeforeunload = (event) => {\n            return this.props.connectingStatus\n                    ? false\n                    : null;\n        };\n    }\n\n    public async componentWillUnmount() {\n        if (this.props.connectingStatus) {\n            if (this.props.isPlaying) {\n                await this.pause();\n            }\n\n            await signalRManager.sendCommand(\"End\")\n                                .catch((error) => console.log(error));\n            await signalRManager.disconnectFromHub()\n                                .catch((error) => console.log(error));\n        }\n\n        this.props.onChangeStreamStateToInitial();\n        window.onbeforeunload = null;\n    }\n\n    private handleError = (response: Response) => {\n        if (response.status === 500) {\n            alert(\"Виникла помилка на сервері.\");\n        } else {\n            alert(\"Не вдалось підключитись до серверу. Перевірте з'єднання з сервером!\");\n        }\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        onChangeConnectingStatus: (status: boolean) => dispatch(actionCreators.changeConnectingStatus(status)),\n        onChangeCurrentPlaybackTime: (time: number) => dispatch(actionCreators.changeCurrentPlaybackTime(time)),\n        onChangeStreamStateToInitial: () => dispatch(actionCreators.changeStreamStateToInitial()),\n        onChangeStreamingStatus: (status: boolean) => dispatch(actionCreators.changeStreamingStatus(status)),\n        onSaveSpeeches: (speeches: any) => dispatch(actionCreators.saveSpeeches(speeches)),\n        onSaveCurrentSpeechId: (id: number) => dispatch(actionCreators.saveCurrentSpeechId(id)),\n        onSavePerformanceId: (id: number) => dispatch(actionCreators.savePerformanceId(id)),\n        onChangeCurrentTabId: (nextId: number) => dispatch(actionCreators.changeCurrentTabId(nextId)),\n    };\n};\n\nconst mapStateToProps = (state: StateType) => {\n    return {\n        connectingStatus: state.stream.connectingStatus,\n        currentSpeechId: state.stream.currentSpeechId,\n        isPlaying: state.stream.isPlaying,\n        maxDuration: state.stream.maxDuration,\n        performanceId: state.stream.performanceId,\n        speeches: state.stream.speeches,\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WithClass(Stream, classes.stream));\n","import React from \"react\";\nimport \"./Logo.css\";\n\ninterface ILogoProps {\n    text: string;\n}\n\nclass Logo extends React.PureComponent<ILogoProps> {\n    public render() {\n        return (\n            <button className=\"header-logo\">\n                {this.props.text}\n            </button>\n        );\n    }\n}\n\nexport default Logo;\n","import React from \"react\";\nimport Button from \"../../../UI/Button/Button\";\nimport \"./Logout.css\";\n\nclass Logout extends React.PureComponent {\n    public render() {\n        return (\n            <div className=\"logout\">\n                {/* <span class=\"user-name\"> Ввійшов як {this.props.user.name} {this.props.user.surname}</span> */}\n                {/* <span className=\"user-name\">Ввійшов як Март Отто</span> */}\n                {/* <Button\n                    text=\"Вихід\"\n                    width=\"95px\"\n                    height=\"45px\"\n                    borderRadius=\"25px\"\n                    fontSize=\"18px\"\n                    transitionDuration=\"0.3s\"\n                    backgroundColor=\"#da4453\"\n                    className=\"user-action\"></Button> */}\n            </div>\n        );\n    }\n}\n\nexport default Logout;\n","import React from \"react\";\nimport \"./Header.css\";\nimport Logo from \"./Logo/Logo\";\nimport Logout from \"./Logout/Logout\";\n\ninterface IHeaderState {\n    isAuthorized: boolean;\n}\n\nclass Header extends React.Component<{}, IHeaderState> {\n\n    public static getDerivedStateFromProps(props: {}, state: IHeaderState) {\n        const segments = location.pathname.split(\"/\");\n        const newState = {\n            ...state,\n        };\n\n        if (segments[1] === \"login\") {\n            newState.isAuthorized = false;\n        } else {\n            newState.isAuthorized = true;\n        }\n\n        return newState;\n    }\n    constructor(props: {}) {\n        super(props);\n        this.state = {\n            isAuthorized: false,\n        };\n    }\n\n    public render() {\n        const logout = this.state.isAuthorized ? <Logout /> : null;\n\n        return (\n            <header id=\"header\">\n                <Logo text=\"Театр ляльок\" />\n                {logout}\n            </header>\n        );\n    }\n}\n\nexport default Header;\n","import React from \"react\";\nimport Aux from \"../../../../../hoc/Auxiliary\";\nimport WithClass from \"../../../../../hoc/WithClass\";\nimport classes from \"./ButtonSection.module.css\";\n\ninterface IButtonSectionProps {\n    isPlaying: boolean;\n    playPauseHandler: any;\n    nextSpeechHandler: any;\n    prevSpeechHandler: any;\n    connectingStatus: boolean;\n}\n\nconst buttonSection = (props: IButtonSectionProps) => {\n    const mainBtnClasses = [classes.act, classes.play];\n    const mainBtnIconClasses = [\"fas\", \"fa-play\"];\n\n    if (props.isPlaying === true) {\n        mainBtnClasses.pop();\n        mainBtnClasses.push(classes.pause);\n\n        mainBtnIconClasses.pop();\n        mainBtnIconClasses.push(\"fa-pause\");\n    }\n\n    const prev = [classes.prev];\n    const next = [classes.next];\n    if (!props.connectingStatus) {\n        mainBtnClasses.push(classes.disable);\n\n        prev.push(classes.prevNextDisable);\n        next.push(classes.prevNextDisable);\n    }\n\n    return (\n        <Aux>\n            <a href=\"\" className={prev.join(\" \")} onClick={(event) => props.prevSpeechHandler(event)}>\n                <i className=\"fas fa-fast-backward\"></i>\n            </a>\n\n            <a href=\"\" className={mainBtnClasses.join(\" \")} onClick={(event) => props.playPauseHandler(event)}>\n                <i className={mainBtnIconClasses.join(\" \")} ></i>\n            </a>\n\n            <a href=\"\" className={next.join(\" \")} onClick={(event) => props.nextSpeechHandler(event)}>\n                <i className=\"fas fa-fast-forward\"></i>\n            </a>\n        </Aux>\n    );\n};\n\nexport default WithClass(buttonSection, classes.btnSection);\n","import React from \"react\";\nimport Aux from \"../../../../../hoc/Auxiliary\";\nimport WithClass from \"../../../../../hoc/WithClass\";\nimport classes from \"./PlaySection.module.css\";\n\ninterface IPlaySectionProps {\n    numAudio: number;\n    totalTime: number;\n    currentTime: number;\n}\n\nconst playSection = (props: IPlaySectionProps) => {\n\n    const getViewNumber = (num: number): string => {\n        if (num < 10) {\n            return `0${num}`;\n        } else {\n            return num.toString();\n        }\n    };\n\n    const convSecondsToMinutes = (second: number): string => {\n        const minutes: number = Math.floor(second / 60);\n        const seconds: number = second % 60;\n\n        return `${getViewNumber(minutes)}:${getViewNumber(seconds)}`;\n    };\n\n    return (\n        <Aux>\n            <span className={classes.numAudio}>#{getViewNumber(props.numAudio)}</span>\n            <span className={classes.playbackTime}>\n                {convSecondsToMinutes(props.currentTime)} / {convSecondsToMinutes(props.totalTime)}\n            </span>\n            <input\n                type=\"range\"\n                className={classes.playbackScale}\n                value={props.currentTime}\n                max={props.totalTime}\n                onChange={undefined}/>\n        </Aux>\n    );\n};\n\nexport default WithClass(playSection, classes.playSection);\n","import React, { Component } from \"react\";\nimport KeyBinding from \"react-keybinding-component\";\nimport { connect } from \"react-redux\";\nimport { AnyAction, Dispatch } from \"redux\";\n\nimport Aux from \"../../../../hoc/Auxiliary\";\nimport WithClass from \"../../../../hoc/WithClass\";\nimport ButtonSection from \"./ButtonSection/ButtonSection\";\nimport PlaySection from \"./PlaySection/PlaySection\";\n\nimport { signalRManager } from \"../../../../index\";\nimport ApiManager from \"../../../../util/apiManager\";\nimport { KeyChars } from \"../../../../util/keyChars\";\nimport { playbackManager } from \"../../../../util/playbackManager\";\n\nimport * as actions from \"../../../../store/actions/index\";\nimport StateType from \"../../../../store/state/state\";\n\nimport classes from \"./ActionSection.module.css\";\n\ninterface IActionSectionProps {\n    performanceId: number;\n    isPlaying: boolean;\n    currentSpeechId: number;\n    currentSpeechIndex: number;\n    currentPlaybackTime: number;\n    maxDuration: number;\n    connectingStatus: boolean;\n    speeches: Array<{\n        id: number,\n        text: string,\n        duration: number,\n    }>;\n    // tslint:disable\n    onChangeStreamingStatus: Function;\n    onChangeCurrentSpeechId: Function;\n    onChangeCurrentPlaybackTime: Function;\n    // tslint:enable\n}\n\ninterface IActionSectionState {\n    performanceId: number;\n    currentTime: number;\n}\n\ninterface IMapKeyBindings {\n    [KeyChars.Ctrl]: boolean;\n    [KeyChars.ArrowRight]: boolean;\n    [KeyChars.ArrowLeft]: boolean;\n    [key: string]: boolean;\n}\n\nclass ActionSection extends Component<IActionSectionProps, IActionSectionState> {\n    private apiManager = new ApiManager();\n    private map: IMapKeyBindings = {\n        [KeyChars.Ctrl]: false,\n        [KeyChars.ArrowRight]: false,\n        [KeyChars.ArrowLeft]: false,\n    };\n    private repeat: boolean = true;\n    private timerId: any = 0;\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            currentTime: 0,\n            performanceId: this.props.performanceId,\n        };\n    }\n\n    public playPauseHandler = async (event: Event) => {\n        event.preventDefault();\n\n        if (this.props.connectingStatus) {\n            if (!this.props.isPlaying) {\n                await signalRManager.sendCommand(this.props.performanceId + \"_\" + this.props.currentSpeechId);\n                this.props.onChangeStreamingStatus(true);\n\n                playbackManager.play(\n                    this.props.onChangeCurrentPlaybackTime,\n                    this.pause.bind(this),\n                    this.props.maxDuration);\n            } else if (this.props.isPlaying) {\n                await this.pause();\n            }\n        }\n    }\n\n    public pause = async () => {\n        return await signalRManager.sendCommand(\"Pause\")\n                    .then(() => {\n                        this.props.onChangeStreamingStatus(false);\n                        playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n                    })\n                    .catch((error) => console.log(error));\n    }\n\n    public nextSpeechHandler = async (event: Event) => {\n        event.preventDefault();\n\n        if (this.props.connectingStatus) {\n            if (this.props.currentSpeechIndex !== this.props.speeches.length - 1) {\n                const nextSpeechId = this.props.speeches[this.props.currentSpeechIndex + 1].id;\n                this.props.onChangeCurrentSpeechId(nextSpeechId);\n                playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n\n                if (this.props.isPlaying) {\n                    await signalRManager.sendCommand(this.props.performanceId + \"_\" + nextSpeechId);\n                    playbackManager.play(\n                        this.props.onChangeCurrentPlaybackTime,\n                        this.pause.bind(this),\n                        this.props.maxDuration);\n                }\n            }\n        }\n    }\n\n    public prevSpeechHandler = async (event: Event) => {\n        event.preventDefault();\n\n        if (this.props.connectingStatus) {\n            if (this.props.currentSpeechIndex !== 0) {\n                const prevSpeechId = this.props.speeches[this.props.currentSpeechIndex - 1].id;\n                this.props.onChangeCurrentSpeechId(prevSpeechId);\n                playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n\n                if (this.props.isPlaying) {\n                    await signalRManager.sendCommand(this.props.performanceId + \"_\" + prevSpeechId);\n                    playbackManager.play(\n                        this.props.onChangeCurrentPlaybackTime,\n                        this.pause.bind(this),\n                        this.props.maxDuration);\n                }\n            }\n        }\n    }\n\n    public checkKeys = (...keys: string[]) => {\n        for (const key of keys) {\n            if (!this.map[key]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public onKeyDownUpHandler = async (event: KeyboardEvent) => {\n        this.map[event.key] = event.type === \"keydown\";\n\n        if (this.checkKeys(KeyChars.Ctrl, KeyChars.ArrowRight) && this.repeat) {\n            this.repeat = false;\n            await this.nextSpeechHandler(event);\n        } else if (this.checkKeys(KeyChars.Ctrl, KeyChars.ArrowLeft) && this.repeat) {\n            this.repeat = false;\n            await this.prevSpeechHandler(event);\n        } else if (event.type === \"keyup\") {\n            this.repeat = true;\n        }\n    }\n\n    public render() {\n        return (\n            <Aux>\n                <ButtonSection\n                    playPauseHandler={this.playPauseHandler}\n                    nextSpeechHandler={this.nextSpeechHandler}\n                    prevSpeechHandler={this.prevSpeechHandler}\n                    connectingStatus={this.props.connectingStatus}\n                    isPlaying={this.props.isPlaying}\n                />\n                <PlaySection\n                    numAudio={this.props.currentSpeechIndex + 1}\n                    totalTime={this.props.maxDuration}\n                    currentTime={this.props.currentPlaybackTime} />\n                <KeyBinding onKey={(event: KeyboardEvent) => this.onKeyDownUpHandler(event) } type=\"keydown\"/>\n                <KeyBinding onKey={(event: KeyboardEvent) => this.onKeyDownUpHandler(event) } type=\"keyup\"/>\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state: StateType) => {\n    return {\n        connectingStatus: state.stream.connectingStatus,\n        currentPlaybackTime: state.stream.currentPlaybackTime,\n        currentSpeechId: state.stream.currentSpeechId,\n        currentSpeechIndex: state.stream.currentSpeechIndex,\n        isPlaying: state.stream.isPlaying,\n        maxDuration: state.stream.maxDuration,\n        speeches: state.stream.speeches,\n    };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) => {\n    return {\n        onChangeCurrentPlaybackTime: (time: number) => dispatch(actions.changeCurrentPlaybackTime(time)),\n        onChangeCurrentSpeechId: (id: number) => dispatch(actions.saveCurrentSpeechId(id)),\n        onChangeStreamingStatus: (status: boolean) => dispatch(actions.changeStreamingStatus(status)),\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WithClass(ActionSection, classes.actionSection));\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport classes from \"./SidebarItem.module.css\";\n\ninterface ISidebarItemProps {\n    id: number;\n    imgSrc: string;\n    name: string;\n    clicked: any;\n    path: string;\n}\n\nclass SidebarItem extends React.Component<ISidebarItemProps> {\n    constructor(props: ISidebarItemProps) {\n        super(props);\n    }\n\n    public render() {\n        return (\n            <NavLink\n                to={this.props.path}\n                className={classes.NavItem}\n                activeClassName={classes.NavItemActive}\n                onClick={this.props.clicked}>\n                    <img src={this.props.imgSrc} alt=\"\"/>\n                    <span>{this.props.name}</span>\n            </NavLink>\n        );\n    }\n}\n\nexport default SidebarItem;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Dispatch } from \"redux\";\nimport * as actionCreators from \"../../../store/actions/index\";\n\nimport GlobalStoreType from \"../../../store/state/state\";\nimport API from \"../../../util/api\";\nimport ActionSection from \"./ActionSection/ActionSection\";\nimport SidebarItem from \"./SidebarItem/SidebarItem\";\n\nimport eventLogo from \"../../../assets/images/event-logo.png\";\nimport perfomanceLogo from \"../../../assets/images/perfomance-logo.png\";\nimport streamLogo from \"../../../assets/images/stream-logo.png\";\n\nimport \"./Sidebar.css\";\n\ninterface ISidebarState {\n    performanceId: number;\n    isVisible: boolean;\n}\n\ninterface ISidebarProps {\n    isStreamConnectedToServer: boolean;\n    currentTabId: number;\n    isNewFilesLoaded: boolean;\n    newFilesName: string[];\n    onChangeCurrentTabId: Function;\n    onChangeAudioUploadToInitial: Function;\n}\n\nfunction CountBlock() {\n    return (\n        <div className=\"countBlock\">\n            <p>Підключено користувачів: <span id='userCounter'>0</span></p>\n        </div>\n    );\n}\n\nclass Sidebar extends React.Component<ISidebarProps, ISidebarState> {\n    public static getDerivedStateFromProps(props: {}, state: ISidebarState) {\n        const updatedState = {\n            ...state,\n        };\n        const segments = location.pathname.split(\"/\");\n\n        if (segments[2] === \"login\") {\n            updatedState.isVisible = false;\n        } else if (segments[2] === \"stream\") {\n            updatedState.performanceId = parseInt(segments[3], undefined);\n        }\n\n        if (segments[2] !== \"stream\" && updatedState.performanceId !== -1) {\n            updatedState.performanceId = -1;\n        }\n\n        return updatedState;\n    }\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            isVisible: true,\n            performanceId: -1,\n        };\n    }\n\n    public OnPerformanceClickHandler = async (event: Event, targetTabId: number) => {\n        if (targetTabId === 1 && this.props.isStreamConnectedToServer) {\n            const isConfirmed = confirm(\"Сторінка все ще підключена до серверу. Ви справді хочете перейти на іншу сторінку\");\n            if (!isConfirmed) {\n                event.preventDefault();\n            }\n        } else if (targetTabId === 0 && this.props.isNewFilesLoaded) {\n            const isConfirmed = confirm(\"Файли завантажені на сервер, але все ще не збережені. \" +\n                                        \"Ви справді перейти на іншу сторінку та видалити файли?\");\n            if (!isConfirmed) {\n                event.preventDefault();\n            } else {\n                if (this.props.newFilesName.length > 0) {\n                    let query = \"?\";\n                    for (const audio of this.props.newFilesName) {\n                      query += `files=${audio}&`;\n                    }\n                    query.slice(query.length - 1, 1);\n\n                    await API.delete(\"/audio/unload/\" + query);\n                  }\n                this.props.onChangeAudioUploadToInitial();\n            }\n        }\n    }\n\n    public onStreamClickHandler = (event: Event) => {\n        event.preventDefault();\n    }\n\n    public render() {\n        let actionSection = null;\n        let counter = null;\n        if (this.state.performanceId !== -1) {\n            actionSection = <ActionSection performanceId={this.state.performanceId} />;  \n            counter = <CountBlock/>\n        }\n\n        return (\n            this.state.isVisible ?\n                <div className=\"sidebar\">\n                    <nav className=\"nav\">\n                        <SidebarItem\n                            id={0}\n                            name=\"Вистави\"\n                            imgSrc={perfomanceLogo}\n                            path=\"/streamer/performance\"\n                            clicked={(event: Event) => this.OnPerformanceClickHandler(event, this.props.currentTabId)} />\n                        <SidebarItem\n                            id={1}\n                            name=\"Трансляції\"\n                            imgSrc={streamLogo}\n                            path=\"/streamer/stream\"\n                            clicked={(event: Event) => this.onStreamClickHandler(event)} />\n                    </nav>\n                    { actionSection }\n                    { counter }\n                </div> : null\n        );\n    }\n}\n\nconst mapStateToProps = (store: GlobalStoreType) => {\n    return {\n        isStreamConnectedToServer: store.stream.connectingStatus,\n        currentTabId: store.sidebar.currentTabId,\n        isNewFilesLoaded: store.audioUpload.isNewFilesLoaded,\n        newFilesName: store.audioUpload.newFilesName,\n    };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onChangeCurrentTabId: (nextId: number) => dispatch(actionCreators.changeCurrentTabId(nextId)),\n        onChangeAudioUploadToInitial: () => dispatch(actionCreators.changeAudioUploadToInitialState()),\n    };\n};\n\n// @ts-ignore\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Sidebar));\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Login from \"./components/Login/Login\";\nimport PerformancesPage from \"./components/Performances/PerformancesPage\";\nimport Stream from \"./components/Stream/Stream\";\nimport Header from \"./components/Toolbar/Header/Header\";\nimport Sidebar from \"./components/Toolbar/Sidebar/Sidebar\";\nimport Aux from \"./hoc/Auxiliary\";\n\nclass App extends Component {\n  public render(): JSX.Element {\n      return (\n        <Aux>\n          <Header />\n          <main>\n            <Sidebar />\n            <Switch>\n              <Route path=\"/streamer/login\" component={Login} />\n              <Route exact path=\"/streamer/\" component={PerformancesPage} />\n              <Route path=\"/streamer/performance\" component={PerformancesPage} />\n              <Route exact path=\"/streamer/stream/:number\" component={Stream} />\n            </Switch>\n          </main>\n        </Aux>\n      );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ninterface IConfig {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n}\n\nexport function register(config?: IConfig) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: IConfig) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: IConfig) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from \"../actions/actionTypes\";\n\ninterface IStateType {\n    isNewFilesLoaded: boolean;\n    newFilesName: string[];\n}\n\ninterface IActionType {\n    type: string;\n    payload: any;\n}\n\nconst initialState: IStateType = {\n    isNewFilesLoaded: false,\n    newFilesName: [],\n};\n\nconst audioUploadReducer = (state: IStateType = initialState, action: IActionType) => {\n    const updatedState = {\n        ...state,\n    };\n\n    switch (action.type) {\n        case actionTypes.CHANGE_IS_NEW_FILES_LOADED:\n            updatedState.isNewFilesLoaded = action.payload.nextValue;\n            break;\n        case actionTypes.ADD_NEW_FILES_NAME:\n            updatedState.newFilesName.push(action.payload.filename);\n            break;\n        case actionTypes.DELETE_NEW_FILES_NAME:\n            const updatedNewFiles = updatedState.newFilesName.filter((file) => !action.payload.filenames.includes(file));\n            updatedState.newFilesName = updatedNewFiles;\n            updatedState.isNewFilesLoaded = updatedNewFiles.length > 0 ? true : false;\n            break;\n        case actionTypes.CHANGE_AUDIO_UPLOAD_TO_INITIAL_STATE:\n            updatedState.isNewFilesLoaded = false;\n            updatedState.newFilesName = [];\n            break;\n    }\n\n    return updatedState;\n};\n\nexport default audioUploadReducer;\n","import * as actionTypes from \"../actions/actionTypes\";\n\ninterface ISidebarStateType {\n    currentTabId: number;\n}\n\ninterface IActionType {\n    type: string;\n    payload: any;\n}\n\nconst initialState: ISidebarStateType = {\n    currentTabId: 0,\n};\n\nconst sidebar = (state: ISidebarStateType = initialState, action: IActionType) => {\n    const updatedState = {\n        ...state,\n    };\n\n    switch (action.type) {\n        case actionTypes.CHANGE_CURRENT_TAB_ID:\n            updatedState.currentTabId = action.payload.nextId;\n            break;\n    }\n\n    return updatedState;\n};\n\nexport default sidebar;\n","import * as actionTypes from \"../actions/actionTypes\";\n\ninterface IActionType {\n    type: string;\n    payload: any;\n}\n\ninterface IStateType {\n    performanceId: number;\n    speeches?: Array<{\n        id: number,\n        text: string,\n        duration: number,\n        order: number,\n    }>;\n    connectingStatus: boolean;\n    isPlaying: boolean;\n    currentSpeechId: number;\n    currentSpeechIndex: number;\n    currentPlaybackTime: number;\n    maxDuration: number;\n}\n\nconst initialState = {\n    connectingStatus: false,\n    currentPlaybackTime: 0,\n    currentSpeechId: -1,\n    currentSpeechIndex: -1,\n    isPlaying: false,\n    maxDuration: 0,\n    performanceId: -1,\n    speeches: undefined,\n};\n\nconst reducer = (state: IStateType = initialState, action: IActionType) => {\n    let updatedState = {\n        ...state,\n    };\n\n    switch (action.type) {\n        case actionTypes.SAVE_PERFORMANCE_ID:\n            updatedState.performanceId = action.payload.id;\n            break;\n        case actionTypes.LOAD_SPEECHES:\n            if (action.payload.speeches.length !== 0) {\n                updatedState.speeches = action.payload.speeches.sort((s1: any, s2: any) => s1.order > s2.order ? 1 : -1);\n                updatedState.currentSpeechId = action.payload.speeches[0].id;\n\n                updatedState.currentSpeechIndex = 0;\n                updatedState.maxDuration = action.payload.speeches[0].duration;\n            }\n            break;\n        case actionTypes.SAVE_CURRENT_SPEECH_ID:\n            updatedState.currentSpeechId = action.payload.currentSpeechId;\n            updatedState.currentSpeechIndex = state.speeches !== undefined ?\n                state.speeches.findIndex((speech) => speech.id === action.payload.currentSpeechId) : -1;\n\n            const currentSpeech = state.speeches !== undefined ?\n                state.speeches.find((s) => s.id === action.payload.currentSpeechId) : undefined;\n            updatedState.maxDuration = currentSpeech !== undefined ? currentSpeech.duration : 0;\n            break;\n        case actionTypes.CHANGE_STREAMING_STATUS:\n            updatedState.isPlaying = action.payload.isPlaying;\n            break;\n        case actionTypes.CHANGE_CURRENT_PLAYBACK_TIME:\n            updatedState.currentPlaybackTime = action.payload.currentPlaybackTime;\n            break;\n        case actionTypes.CHANGE_STREAM_STATE_TO_INITIAL:\n            updatedState = initialState;\n            break;\n        case actionTypes.CHANGE_CONNECTING_STATUS:\n            updatedState.connectingStatus = action.payload.status;\n            break;\n        default:\n            break;\n    }\n\n    return updatedState;\n};\n\nexport default reducer;\n","interface IConfigType {\n    urlApi: string;\n}\n\nconst config: IConfigType = {\n    // urlApi: \"http://localhost:5000/\",\n    urlApi: \"/\",\n};\n\nexport default config;\n","import * as signalR from \"@aspnet/signalr\";\nimport config from \"react-global-configuration\";\n\nclass SignalrManager {\n    public connection: signalR.HubConnection;\n\n    constructor() {\n        const backendURL = config.get(\"urlApi\");\n\n        this.connection = new signalR.HubConnectionBuilder()\n            .withUrl(`${backendURL}StreamHub`)\n            .build();\n\n        this.connection.on(\"updateCount\", (number: string) => {\n            const counterBlock: any = document.getElementById(\"userCounter\");\n\n            counterBlock.innerHTML = number;\n        });\n    }\n\n    public async connectToHub(): Promise<void> {\n        console.log(\"Try to connect to SignalR Hub\");\n\n        return await this.connection.start();\n    }\n\n    public async disconnectFromHub(): Promise<void> {\n        console.log(\"Try to disconnect from SignalR Hub\");\n\n        return await this.connection.stop();\n    }\n\n    public async sendCommand(command: string): Promise<void> {\n        console.log(\"Try send to SignalR Hub:\" + command);\n\n        return await this.connection.send(\"SendMessage\", command);\n    }\n}\n\nexport default SignalrManager;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { Router } from \"react-router\";\nimport { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport audioUploadReducer from \"./store/reducers/audioUploadReducer\";\nimport sidebarReducer from \"./store/reducers/sidebarReducer\";\nimport streamReducer from \"./store/reducers/streamReducer\";\nimport history from \"./util/history\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./assets/css/font-awesome.css\";\nimport \"./index.css\";\n\nimport config from \"react-global-configuration\";\nimport configuration from \"./config\";\nimport SignalrManager from \"./util/signalrManager\";\n\nconst reducer: any = combineReducers({\n    stream: streamReducer,\n    sidebar: sidebarReducer,\n    audioUpload: audioUploadReducer,\n});\n\nconst store: any = createStore(reducer, composeWithDevTools(applyMiddleware(\n    thunk,\n)));\n\nconfig.set(configuration);\n\nconst app: JSX.Element = (\n    <Provider store={store}>\n        <Router history={history}>\n            <App />\n        </Router>\n    </Provider>\n);\n\nexport const signalRManager: SignalrManager = new SignalrManager();\n\nReactDOM.render(app, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnSection\":\"ButtonSection_btnSection__WkHkX\",\"prev\":\"ButtonSection_prev__3R_4A\",\"next\":\"ButtonSection_next__BEJ9w\",\"prevNextDisable\":\"ButtonSection_prevNextDisable__3ToCt\",\"act\":\"ButtonSection_act__TzfjJ\",\"disable\":\"ButtonSection_disable__3TKz_\",\"play\":\"ButtonSection_play__60ThG\",\"pause\":\"ButtonSection_pause__3MWYN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"audio\":\"StreamAudio_audio__Hh9b8\",\"icon\":\"StreamAudio_icon__1Kta5\",\"disable\":\"StreamAudio_disable__2hEND\",\"time\":\"StreamAudio_time__3e1DB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playSection\":\"PlaySection_playSection__3ctl-\",\"numAudio\":\"PlaySection_numAudio__XyeRj\",\"playbackTime\":\"PlaySection_playbackTime__sVffU\",\"playbackScale\":\"PlaySection_playbackScale__17yyt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"streamHead\":\"StreamHead_streamHead__2JdVk\",\"title\":\"StreamHead_title__2Erdy\",\"btn\":\"StreamHead_btn__25jjZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Spinner_Backdrop__B3Xqc\",\"Spinner\":\"Spinner_Spinner__bgivY\",\"load6\":\"Spinner_load6__3Cp0a\",\"round\":\"Spinner_round__3FE99\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavItem\":\"SidebarItem_NavItem__277V1\",\"NavItemActive\":\"SidebarItem_NavItemActive__1qvYN\",\"nav-item\":\"SidebarItem_nav-item__2Qq2y\"};","module.exports = __webpack_public_path__ + \"static/media/theater-logo.8b68e78f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"audios\":\"StreamAudios_audios__3D7M3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stream\":\"Stream_stream__XT1t6\"};"],"sourceRoot":""}